<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Structures</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0286.htm','/dssd0000.htm','/dssd0087.htm','/index.htm','/dssd0288.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="structs_0001060501000000">Structures</A></H2>
<BR CLEAR=ALL>
<P>This section describes the Microsoft&#174; DirectShow&#153; structures.

<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Structure </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000100" TARGET="TEXT">ALLOCATOR_PROPERTIES</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains the allocator's count, size, alignment, and prefix properties.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000200" TARGET="TEXT">AM_DVD_RENDERSTATUS</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Provides status (failure) codes for <A HREF="dssd0129.htm#If_0001060129030300" TARGET="TEXT">IDvdGraphBuilder::RenderDvdVideoVolume</A>. 

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000300" TARGET="TEXT">AM_MEDIA_TYPE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes a media sample type.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000400" TARGET="TEXT">AM_SAMPLE2_PROPERTIES</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Generic media sample properties structure. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000500" TARGET="TEXT">AMOVIESETUP_FILTER</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains filter information for registering a filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000600" TARGET="TEXT">AMOVIESETUP_MEDIATYPE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains media type information for registering a filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000700" TARGET="TEXT">AMOVIESETUP_PIN</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains pin information for registering a filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000800" TARGET="TEXT">AM_STREAM_INFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about start and stop commands given a pin through the <A HREF="dssd0106.htm" TARGET="TEXT">IAMStreamControl</A> interface.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000900" TARGET="TEXT">AMVPDATAINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Specifies the data specific characteristics of the VP input stream. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000a00" TARGET="TEXT">AMVPDIMINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Specifies the dimensional characteristics of the VP input stream.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000b00" TARGET="TEXT">AMVPSIZE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Specifies the width and height for a VP image.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001000" TARGET="TEXT">DVD_ATR</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">DVD attributes. 

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001100" TARGET="TEXT">DVD_TIMECODE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">DVD timecode in hours, minutes, seconds, and frames. 

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001200" TARGET="TEXT">FILTER_INFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about a filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001500" TARGET="TEXT">PIN_INFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about a pin.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001600" TARGET="TEXT">POSITION</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Placeholder for linked lists.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001700" TARGET="TEXT">Quality</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes a quality message by indicating Flood or Famine in the renderer and specifying the percentage of frames to drop or add to optimize the renderer's performance.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001800" TARGET="TEXT">REGFILTER</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes a filter in the registry.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501002400" TARGET="TEXT">REGFILTER2</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes filter for registration through the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501002300" TARGET="TEXT">REGFILTERPINS2</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pin information for registering a filter the the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501002200" TARGET="TEXT">REGPINMEDIUM</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes a pin medium (as defined in the Windows NT DDK) for registration through the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501002100" TARGET="TEXT">REGFILTERPINS</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pin information for registering a filter. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501002000" TARGET="TEXT">REGPINTYPES</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Media type information for registering a filter.

</FONT></TD></TR></TABLE>
<P>The following structure maintains information about graphics device interface (GDI) bitmaps and device-independent bitmaps (DIBs). This is used solely by the <A HREF="dssd0220.htm" TARGET="TEXT">CImageAllocator</A>, <A HREF="dssd0223.htm" TARGET="TEXT">CImageSample</A>, and <A HREF="dssd0214.htm" TARGET="TEXT">CDrawImage</A> window utility classes.

<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Structure </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000f00" TARGET="TEXT">DIBDATA</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about each DIB.
</FONT></TD></TR></TABLE>
<P>The following structures maintain information about video, as well as video capture and compression.
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Structure </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001b00" TARGET="TEXT">TRUECOLORINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Maintains color information.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000c00" TARGET="TEXT">ANALOGVIDEOINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Maintains information about the format of the analog video signal. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000d00" TARGET="TEXT">AUDIO_STREAM_CONFIG_CAPS</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about all possible audio formats supported.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501000e00" TARGET="TEXT">COLORKEY</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Communicates color key information between the renderer and another filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001300" TARGET="TEXT">MPEG1VIDEOINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains additional MPEG-1 video system information.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001400" TARGET="TEXT">MPEG2VIDEOINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains additional MPEG-2 video system information.


</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001900" TARGET="TEXT">TIMECODE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains basic timecode frame count information.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001a00" TARGET="TEXT">TIMECODE_SAMPLE</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains complete timecode information.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001c00" TARGET="TEXT">VIDEO_STREAM_CONFIG_CAPS</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information about possible connections.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001d00" TARGET="TEXT">VIDEOINFO</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Contains information that specifies a video image and its color palette and bitmasks.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes the bitmap and color information for a video image.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001f00" TARGET="TEXT">VIDEOINFOHEADER2</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Describes the bitmap and color information for a video image, including interlace, copy protection, and pixel aspect ratio information.



</FONT></TD></TR></TABLE>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000100">ALLOCATOR_PROPERTIES</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains the allocator's count, size, alignment, and prefix properties.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AllocatorProperties {
&#009;long cBuffers;
&#009;long cbBuffer;
&#009;long cbAlign;
&#009;long cbPrefix;
} ALLOCATOR_PROPERTIES;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000101">cBuffers</A></B>
 </DT><DD>Count of buffers at this allocator.
</DD><DT><B><A NAME="structs_0001060501000102">cbBuffer</A></B>
 </DT><DD>Size of each buffer in bytes, excluding any prefix.
</DD><DT><B><A NAME="structs_0001060501000103">cbAlign</A></B>
 </DT><DD>Alignment of the buffer; buffer start will be aligned on a multiple of this value.
</DD><DT><B><A NAME="structs_0001060501000104">cbPrefix</A></B>
 </DT><DD>Each buffer is preceded by a prefix of this many bytes.
</DD></DL>
<H5>Remarks</H5>
<P>The <A HREF="dssd0228.htm#Lib_0001060230050600" TARGET="TEXT">CMediaSample::GetPointer</A> member function points to the beginning of the
buffer, not including the prefix bytes designated by <B>cbPrefix</B>.

<P>The alignment is applied to the prefix data, if any. If a nonzero prefix is used, the beginning of the prefix is aligned according to <A HREF="dssd0287.htm#structs_0001060501000103" TARGET="TEXT">cbAlign</A>. Since the buffer pointer returned by <A HREF="dssd0156.htm#If_0001060144030400" TARGET="TEXT">IMediaSample::GetPointer</A> points to the area immediately following the prefix, the <B>cbPrefix</B> address (the value returned by <B>IMediaSample::GetPointer</B> 
minus <B>cbPrefix</B>) should be aligned on an address that is a multiple of <B>cbAlign</B> bytes.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000200">AM_DVD_RENDERSTATUS</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Provides status (failure) codes for <A HREF="dssd0129.htm#If_0001060129030300" TARGET="TEXT">IDvdGraphBuilder::RenderDvdVideoVolume</A>.

<PRE><FONT FACE="Courier" SIZE="2">
typedef struct {
&#009;BOOL    bVPEFailed;          
&#009;BOOL    bDVDVolInvalid;      
&#009;BOOL    bDVDVolUnknown;      
&#009;BOOL    bNoLine21;           
&#009;int     iNumStreams;         
&#009;int     iNumStreamsFailed;   
&#009;DWORD   dwFailedStreamsFlag; 
} AM_DVD_RENDERSTATUS;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000201">bVPEFailed</A></B>
 </DT><DD> TRUE if the caller didn't set the <A HREF="dssd0288.htm#dtypes_0001060601000205" TARGET="TEXT">AM_DVD_NOVPE</A> flag in the <A HREF="dssd0129.htm#If_0001060129030300" TARGET="TEXT">RenderDvdVideoVolume</A> call and VPE mixing failed. FALSE otherwise.
</DD><DT><B><A NAME="structs_0001060501000202">bDVDVolInvalid</A></B>
 </DT><DD> TRUE if the specified DVD volume to be played does not exist. FALSE otherwise.
</DD><DT><B><A NAME="structs_0001060501000203">bDVDVolUnknown</A></B>
 </DT><DD> TRUE if no DVD volume is specified or if it isn't found. FALSE otherwise.
</DD><DT><B><A NAME="structs_0001060501000204">bNoLine21</A></B>
 </DT><DD> TRUE if the video decoder doesn't produce Line21 (closed caption) data. FALSE otherwise.
</DD><DT><B><A NAME="structs_0001060501000205">iNumStreams</A></B>
 </DT><DD> Number of DVD streams to render.
</DD><DT><B><A NAME="structs_0001060501000206">iNumStreamsFailed</A></B>
 </DT><DD> Number of streams that failed to render.
</DD><DT><B><A NAME="structs_0001060501000207">dwFailedStreamsFlag</A></B>
 </DT><DD> Combination of <A HREF="dssd0288.htm#dtypes_0001060601000300" TARGET="TEXT">AM_DVD_STREAM_FLAGS</A> flags indicating which streams failed.
</DD></DL>
<H5>See Also</H5>
<P><A HREF="dssd0129.htm#If_0001060129030300" TARGET="TEXT">IDvdGraphBuilder::RenderDvdVideoVolume</A>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000300">AM_MEDIA_TYPE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes a media sample type.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct  _MediaType
    {
    GUID      majortype;
    GUID      subtype;
    BOOL      bFixedSizeSamples;
    BOOL      bTemporalCompression;
    ULONG     lSampleSize;
    GUID      formattype;
    IUnknown  *pUnk;
    ULONG     cbFormat;
    /* [size_is] */ BYTE __RPC_FAR *pbFormat;
    } AM_MEDIA_TYPE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000301">majortype</A></B>
 </DT><DD>Major type of the media sample.
</DD><DT><B><A NAME="structs_0001060501000302">subtype</A></B>
 </DT><DD>Subtype of the media sample.
</DD><DT><B><A NAME="structs_0001060501000303">bFixedSizeSamples</A></B>
 </DT><DD>If TRUE, samples are of a fixed size.
</DD><DT><B><A NAME="structs_0001060501000304">bTemporalCompression</A></B>
 </DT><DD>If TRUE, samples are compressed.
</DD><DT><B><A NAME="structs_0001060501000305">lSampleSize</A></B>
 </DT><DD>Size of the sample in bytes.
</DD><DT><B><A NAME="structs_0001060501000306">formattype</A></B>
 </DT><DD>Registered (<A HREF="dssd0397.htm#gloss_00010b0108000001" TARGET="TEXT">GUID</A>) format type.
</DD><DT><B><A NAME="structs_0001060501000307">pUnk</A></B>
 </DT><DD>Pointer to the <A HREF="dssd0175.htm" TARGET="TEXT">IUnknown</A> interface.
</DD><DT><B><A NAME="structs_0001060501000308">cbFormat</A></B>
 </DT><DD>Size of the format section of the media type.
</DD><DT><B><A NAME="structs_0001060501000309">pbFormat</A></B>
 </DT><DD>Pointer to the format section of the media type. The layout of
this is determined by the format type <A HREF="dssd0397.htm#gloss_00010b0108000001" TARGET="TEXT">GUID</A>. <B><A NAME="structs_000106050100030a">Format types</A></B> include the following:
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Format type </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Structure pointed to
 </B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">FORMAT_MPEGVideo </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001300" TARGET="TEXT">MPEG1VIDEOINFO</A>
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">FORMAT_VideoInfo </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A>
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">FORMAT_WaveFormatEx </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0075.htm#avispec_0001050502020900" TARGET="TEXT">WAVEFORMATEX</A> 
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">FORMAT_MPEG2Video </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001400" TARGET="TEXT">MPEG2VIDEOINFO</A>
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">FORMAT_VideoInfo2 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0287.htm#structs_0001060501001f00" TARGET="TEXT">VIDEOINFOHEADER2</A>
</FONT></TD></TR></TABLE>
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000400">AM_SAMPLE2_PROPERTIES</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Generic media sample properties structure.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagAM_SAMPLE2_PROPERTIES {
    DWORD    cbData;
    DWORD    dwTypeSpecificFlags;
    DWORD    dwSampleFlags;
    LONG     lActual;
    REFERENCE_TIME tStart;
    REFERENCE_TIME tStop;
    DWORD    dwStreamId;
    AM_MEDIA_TYPE *pMediaType;
    BYTE    *pbBuffer;
    LONG     cbBuffer;
} AM_SAMPLE2_PROPERTIES;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000401">cbData</A></B>
</DT><DD>Length of property data for extensiblity. Number of bytes including this field.
</DD><DT><B><A NAME="structs_0001060501000402">dwTypeSpecificFlags</A></B>
</DT><DD>Type specific flag data. These flags are defined separately for each media type. Default is 0.
</DD><DT><B><A NAME="structs_0001060501000403">dwSampleFlags</A></B>
</DT><DD>Flags bits defined by the <A HREF="dssd0288.htm#dtypes_0001060601000800" TARGET="TEXT">AM_SAMPLE_PROPERTY_FLAGS</A> enumerated data type. All undefined bits are reserved (set them to 0, and do not copy them).
</DD><DT><B><A NAME="structs_0001060501000404">lActual</A></B>
</DT><DD>Length of data in the buffer pointed to by the <I>pbBuffer</I> member.
</DD><DT><B><A NAME="structs_0001060501000405">tStart</A></B>
</DT><DD>Start time if valid.
</DD><DT><B><A NAME="structs_0001060501000406">tStop</A></B>
</DT><DD>Stop time if valid.
</DD><DT><B><A NAME="structs_0001060501000407">dwStreamId</A></B>
</DT><DD>Stream identifier. Stream 0 is the normal media transport. Stream 1 is control. Currently only Stream 0 is used. Filters should pass any other stream id directly to their output pins without processing.
</DD><DT><B><A NAME="structs_0001060501000408">pMediaType</A></B>
</DT><DD>Copy of the media type. It becomes invalid after the sample has been released.
</DD><DT><B><A NAME="structs_0001060501000409">pbBuffer</A></B>
</DT><DD>Pointer to the buffer. The pointer becomes invalid after Release or Receive.
</DD><DT><B><A NAME="structs_000106050100040a">cbBuffer</A></B>
</DT><DD>Total length of the buffer pointed to by <I>pbBuffer</I> in bytes.
</DD></DL>
<H5>Remarks</H5>
<P>The <A HREF="dssd0157.htm" TARGET="TEXT">IMediaSample2</A> interface uses this structure.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000500">AMOVIESETUP_FILTER</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains filter information for registering a filter.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMOVIESETUP_FILTER
{
    const CLSID * clsID;
    LPWSTR     strName;
    DWORD      dwMerit;
    UINT       nPins;
    LPAMOVIESETUP_PIN lpPin;
}
AMOVIESETUP_FILTER
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000501">clsID</A></B>
 </DT><DD>Class identifier of the filter.
</DD><DT><B><A NAME="structs_0001060501000502">strName</A></B>
 </DT><DD>Name of the filter.
</DD><DT><B><A NAME="structs_0001060501000503">dwMerit</A></B>
 </DT><DD>Merit used by the GraphBuilder when constructing a filter graph.
</DD><DT><B><A NAME="structs_0001060501000504">nPins</A></B>
 </DT><DD>Number of pins on the filter.
</DD><DT><B><A NAME="structs_0001060501000505">lpPin</A></B>
 </DT><DD><A HREF="dssd0287.htm#structs_0001060501000700" TARGET="TEXT">AMOVIESETUP_PIN</A> structure providing pin information.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000600">AMOVIESETUP_MEDIATYPE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Media type information for registering a filter.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMOVIESETUP_MEDIATYPE
{
    const CLSID * clsMajorType;
    const CLSID * clsMinorType;
} AMOVIESETUP_MEDIATYPE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000601">clsMajorType</A></B>
 </DT><DD>Major media type supported by the filter.
</DD><DT><B><A NAME="structs_0001060501000602">clsMinorType</A></B>
 </DT><DD>Minor media type supported by the filter.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000700">AMOVIESETUP_PIN</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Pin information for registering a filter.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMOVIESETUP_PIN
{
    LPWSTR           strName;
    BOOL             bRendered;
    BOOL             bOutput;
    BOOL             bZero;
    BOOL             bMany;
    const CLSID *    clsConnectsToFilter;
    LPWSTR           strConnectsToPin;
    UINT             nMediaTypes;
    LPAMOVIESETUP_MEDIATYPE lpMediaType;
}
AMOVIESETUP_PIN;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000701">strName</A></B>
 </DT><DD>Name of the pin.
</DD><DT><B><A NAME="structs_0001060501000702">bRendered</A></B>
 </DT><DD>Set to TRUE if the filter renders this input; otherwise, set to FALSE.
</DD><DT><B><A NAME="structs_0001060501000703">bOutput</A></B>
 </DT><DD>Flag to indicate if this pin is an output pin.
</DD><DT><B><A NAME="structs_0001060501000704">bZero</A></B>
 </DT><DD>If the filter has zero instances of this pin, set this to TRUE; otherwise,
set to FALSE. For example, a decompression filter might choose not to 
create a sound output pin for a movie without a sound track.
</DD><DT><B><A NAME="structs_0001060501000705">bMany</A></B>
 </DT><DD>If the filter has many instances of this pin, set this to TRUE; otherwise,
set to FALSE. For example, a mixer might have multiple instances of its input pin.
</DD><DT><B><A NAME="structs_0001060501000706">clsConnectsToFilter</A></B>
 </DT><DD>CLSID of the filter to which this filter connects in a filter graph.
</DD><DT><B><A NAME="structs_0001060501000707">strConnectsToPin</A></B>
 </DT><DD>Name of the pin to which this pin connects in a filter graph.
</DD><DT><B><A NAME="structs_0001060501000708">nMediaTypes</A></B>
 </DT><DD>Number of media types supported by this pin.
</DD><DT><B><A NAME="structs_0001060501000709">lpMediaType</A></B>
 </DT><DD><A HREF="dssd0287.htm#structs_0001060501000600" TARGET="TEXT">AMOVIESETUP_MEDIATYPE</A> structure providing media type information.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000800">AM_STREAM_INFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains information about start and stop commands given a pin through the <A HREF="dssd0106.htm" TARGET="TEXT">IAMStreamControl</A> interface.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct {
    REFERENCE_TIME tStart;
    REFERENCE_TIME tStop;
    DWORD dwStartCookie;
    DWORD dwStopCookie;
    DWORD dwFlags;
} AM_STREAM_INFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000801">tStart</A></B>
 </DT><DD>Time at which streaming will start.
</DD><DT><B><A NAME="structs_0001060501000802">tStop</A></B>
 </DT><DD>Time at which streaming will stop. 
</DD><DT><B><A NAME="structs_0001060501000803">dwStartCookie</A></B>
 </DT><DD>A number that will be given to the application that ordered the start when the event occurs.
</DD><DT><B><A NAME="structs_0001060501000804">dwStopCookie</A></B>
 </DT><DD>A number that will be given to the application that ordered the stop when the event occurs.
</DD><DT><B><A NAME="structs_0001060501000805">dwFlags</A></B>
 </DT><DD>An <A HREF="dssd0288.htm#dtypes_0001060601000900" TARGET="TEXT">AM_STREAM_INFO_FLAGS</A> enumeration type flag.
</DD></DL>
<H5>Remarks</H5>
<P>Access this structure through the <A HREF="dssd0106.htm" TARGET="TEXT">IAMStreamControl</A> interface.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000900">AMVPDATAINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Specifies the data specific characteristics of the VP input stream.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMVPDATAINFO{
DWORD dwSize;&#009; 
DWORD dwMicrosecondsPerField; 
AMVPDIMINFO amvpDimInfo;&#009; 
DWORD dwPictAspectRatioX;&#009;
DWORD dwPictAspectRatioY;&#009;
BOOL bEnableDoubleClock;&#009;
BOOL bEnableVACT;&#009;&#009;
BOOL bDataIsInterlaced;&#009;&#009;
BOOL bWritesHalfline;&#009;&#009;
BOOL bFieldPolarityInverted;&#009;
DWORD dwReserved1;&#009;&#009;
DWORD dwReserved2;&#009;&#009;
DWORD dwReserved3;&#009;&#009;
} AMVPDATAINFO, *LPAMVPDATAINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000901">dwSize</A></B> 
 </DT><DD>Size of the structure, in bytes.
</DD><DT><B><A NAME="structs_0001060501000902">dwMicrosecondsPerField</A></B>
 </DT><DD> Time taken by each field.
</DD><DT><B><A NAME="structs_0001060501000903">amvpDimInfo</A></B>
 </DT><DD>Dimensional Information.
</DD><DT><B><A NAME="structs_0001060501000904">dwPictAspectRatioX</A></B>
 </DT><DD>X dimension of Picture Aspect Ratio.
</DD><DT><B><A NAME="structs_0001060501000905">dwPictAspectRatioY</A></B>
 </DT><DD>Y dimension of Picture Aspect Ratio.
</DD><DT><B><A NAME="structs_0001060501000906">bEnableDoubleClock</A></B>
 </DT><DD>Videoport should enable double clocking.
</DD><DT><B><A NAME="structs_0001060501000907">bEnableVACT</A></B>
 </DT><DD>Videoport should use an external VACT signal.
</DD><DT><B><A NAME="structs_0001060501000908">bDataIsInterlaced</A></B>
 </DT><DD>Indicates that the signal is interlaced.
</DD><DT><B><A NAME="structs_0001060501000909">bWritesHalfline</A></B>
 </DT><DD>Device will write half lines into the frame buffer.

</DD><DT><B><A NAME="structs_000106050100090a">dwReserved1</A></B>
 </DT><DD> Reserved for future use.
</DD><DT><B><A NAME="structs_000106050100090b">dwReserved2</A></B>
 </DT><DD> Reserved for future use.
</DD><DT><B><A NAME="structs_000106050100090c">dwReserved3</A></B>
 </DT><DD> Reserved for future use.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000a00">AMVPDIMINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Specifies the dimensional characteristics of the VP input stream.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMVPDIMINFO{
DWORD dwFieldWidth;&#009; 
DWORD dwFieldHeight;&#009; 
DWORD dwVBIWidth;&#009; 
DWORD dwVBIHeight;&#009;
RECT rcValidRegion;&#009;
} AMVPDIMINFO, *LPAMVPDIMINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000a01">dwFieldWidth</A></B>
 </DT><DD> Field width of the data.
</DD><DT><B><A NAME="structs_0001060501000a02">dwFieldHeight</A></B>
 </DT><DD> Field height of the data.
</DD><DT><B><A NAME="structs_0001060501000a03">dwVBIWidth</A></B>
 </DT><DD> Width of the VBI data.
</DD><DT><B><A NAME="structs_0001060501000a04">dwVBIHeight</A></B>
 </DT><DD> Height of the VBI data.
</DD><DT><B><A NAME="structs_0001060501000a05">rcValidRegion</A></B>
 </DT><DD> Valid rectangle, used for cropping.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000b00">AMVPSIZE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Specifies the width and height for a VP image. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AMVPSIZE{
DWORD dwWidth;
DWORD dwHeight;
} AMVPSIZE, *LPAMVPSIZE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000b01">dwWidth</A></B>
 </DT><DD>Width.
</DD><DT><B><A NAME="structs_0001060501000b02">dwHeight</A></B>
 </DT><DD>Height.
</DD></DL>
<H5>Remarks</H5>
<P>The context could be anything such as scaling, cropping, and so on.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000c00">ANALOGVIDEOINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Maintains information about the format of the analog video signal. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagAnalogVideoInfo {
    RECT            rcSource;           
    RECT            rcTarget;           
    DWORD           dwActiveWidth;      
    DWORD           dwActiveHeight;     
    REFERENCE_TIME  AvgTimePerFrame;    
} ANALOGVIDEOINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000c01">rcSource</A></B>
 </DT><DD>Source video rectangle.
</DD><DT><B><A NAME="structs_0001060501000c02">rcTarget</A></B>
 </DT><DD>Destination target rectangle. 
</DD><DT><B><A NAME="structs_0001060501000c03">dwActiveWidth</A></B>
 </DT><DD>Source video width.
</DD><DT><B><A NAME="structs_0001060501000c04">dwActiveHeight</A></B>
 </DT><DD>Source video height (483 for NTSC, 575 for PAL/SECAM).
</DD><DT><B><A NAME="structs_0001060501000c05">AvgTimePerFrame</A></B>
 </DT><DD>Average time per frame in 100-nanosecond units.
</DD></DL>
<H5>Remarks</H5>
<P>Filters using this format usually pass the video signal using a hardware-based
connection rather than using memory-based transports. 

<P>An example of a definition of an analog video media type connection would be a
connection of NTSC video using "M" color encoding. This would use a major media type
of MEDIATYPE_AnalogVideo, a subtype of MEDIASUBTYPE_AnalogVideo_NTSC_M, and a 
format type of FORMAT_AnalogVideo. 
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000d00">AUDIO_STREAM_CONFIG_CAPS</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains information about all possible audio formats supported.
<PRE><FONT FACE="Courier" SIZE="2">typedef struct _AUDIO_STREAM_CONFIG_CAPS {
        GUID guid;
        ULONG MinimumChannels;
        ULONG MaximumChannels;
        ULONG ChannelsGranularity;
        ULONG MinimumBitsPerSample;
        ULONG MaximumBitsPerSample;
        ULONG BitsPerSampleGranularity;
        ULONG MinimumSampleFrequency;
        ULONG MaximumSampleFrequency;
        ULONG SampleFrequencyGranularity;
    } AUDIO_STREAM_CONFIG_CAPS;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000d01">guid</A></B>
 </DT><DD>Will be set to MEDIATYPE_Audio to indicate an audio sample.
</DD><DT><B><A NAME="structs_0001060501000d02">MinimumChannels</A></B>
 </DT><DD>Minimum number of channels this pin supports.
</DD><DT><B><A NAME="structs_0001060501000d03">MaximumChannels</A></B>
 </DT><DD>Maximum number of channels this pin supports (ie- 2 for sterio).
</DD><DT><B><A NAME="structs_0001060501000d04">ChannelsGranularity</A></B>
 </DT><DD>Granularity of the channels. For example, you could specify channels 2 through 4 in steps of 2.
</DD><DT><B><A NAME="structs_0001060501000d05">MinimumBitsPerSample</A></B>
 </DT><DD>Minimum bits per sample.
</DD><DT><B><A NAME="structs_0001060501000d06">MaximumBitsPerSample</A></B>
 </DT><DD>Maximum bits per sample.
</DD><DT><B><A NAME="structs_0001060501000d07">BitsPerSampleGranularity</A></B>
 </DT><DD>Granularity of the bits. For example, you could specify 8 bits or 32 bits in steps of 8.
</DD><DT><B><A NAME="structs_0001060501000d08">MinimumSampleFrequency</A></B>
 </DT><DD>Minimum frequency allowed.
</DD><DT><B><A NAME="structs_0001060501000d09">MaximumSampleFrequency</A></B>
 </DT><DD>Maximum frequency allowed.
</DD><DT><B><A NAME="structs_0001060501000d0a">SampleFrequencyGranularity</A></B>
 </DT><DD>Granularity of the frequency. For example, you could specify 11025 to 44100Hz in steps of 11025
</DD></DL>
<H5>Remarks</H5>
<P>This structure is returned by an audio capture or compression filter.
<H5>See Also</H5>
<P><A HREF="dssd0105.htm#If_0001060111030300" TARGET="TEXT">IAMStreamConfig::GetStreamCaps</A>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000e00">COLORKEY</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Communicates color key information between the renderer and another filter. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagCOLORKEY
    {
    DWORD           KeyType;
    DWORD           PaletteIndex;
    COLORREF        LowColorValue;
    COLORREF        HighColorValue;
    }    COLORKEY;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000e01">KeyType</A></B>
 </DT><DD>Key type.
</DD><DT><B><A NAME="structs_0001060501000e02">PaletteIndex</A></B>
 </DT><DD>Palette index.
</DD><DT><B><A NAME="structs_0001060501000e03">LowColorValue</A></B>
 </DT><DD>Lowest RGB color value.
</DD><DT><B><A NAME="structs_0001060501000e04">HighColorValue</A></B>
 </DT><DD>Highest RGB color value.
</DD></DL>
<H5>Remarks</H5>
<P>The video renderer supports a data transport accessed through the <A HREF="dssd0163.htm" TARGET="TEXT">IOverlay</A> interface. 
This will typically be used by hardware decoder filters that need the renderer to 
communicate where to put the data rather than requiring the renderer to draw the data. 
One mechanism for communicating where to put the images is by using a color key. 
This structure is used by a filter (typically a hardware decoder) to describe color key requirements 
to the video renderer.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501000f00">DIBDATA</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Maintains information about each GDI DIB. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagDIBDATA {
    LONG        PaletteVersion;  
    DIBSECTION  DibSection;     
    HBITMAP     hBitmap;        
    HANDLE      hMapping;      
    BYTE        *pBase;         
} DIBDATA;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501000f01">PaletteVersion</A></B>
 </DT><DD>Current palette version in use.
</DD><DT><B><A NAME="structs_0001060501000f02">DibSection</A></B>
 </DT><DD>Details of DIB section allocated.
</DD><DT><B><A NAME="structs_0001060501000f03">hBitmap</A></B>
 </DT><DD>Handle to bitmap for drawing.
</DD><DT><B><A NAME="structs_0001060501000f04">hMapping</A></B>
 </DT><DD>Handle to shared memory block.
</DD><DT><B><A NAME="structs_0001060501000f05">pBase</A></B>
 </DT><DD>Pointer to base memory address.
</DD></DL>
<H5>Remarks</H5>
<P>When the allocator creates a sample, it allocates a <A HREF="dssd0389.htm#external_00010a0109000020" TARGET="TEXT">DIBSECTION</A> to the sample. When a window receives a sample, it can call the Win32 <A HREF="dssd0389.htm#external_00010a0109000003" TARGET="TEXT">BitBlt</A> function to pass the sample from one device context to another device context. This is a mechanism for the image allocator, an image sample, and the draw class to pass bitmap information to each other.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001000">DVD_ATR</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>DVD attributes. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagDVD_ATR 
{
    ULONG    ulCAT;     
    BYTE    pbATRI[768];
} DVD_ATR;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001001">ulCAT</A></B>
 </DT><DD>VMG_CAT if this is for a volume; or VTS_CAT if this is for a Video Title Set (VTS) 
</DD><DT><B><A NAME="structs_0001060501001002">pbATRI</A></B>
 </DT><DD>All stream attributes for menu and title from bytes 256 to 1023 of VMGI or VTSI.
</DD></DL>
<H5>Remarks</H5>
<P>Refer to the DVD-Video 1.0 specification to parse these structures.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001100">DVD_TIMECODE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>DVD timecode in hours, minutes, seconds, and frames. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagDVD_TIMECODE")
{
   ULONG Hours1   :4; 
   ULONG Hours10  :4; 

   ULONG Minutes1 :4; 
   ULONG Minutes10:4; 

   ULONG Seconds1 :4; 
   ULONG Seconds10:4; 

   ULONG Frames1  :4; 
   ULONG Frames10 :2; 

   ULONG FrameRateCode:2; 
} DVD_TIMECODE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001101">Hours1</A></B>
 </DT><DD>Hours.
</DD><DT><B><A NAME="structs_0001060501001102">Hours10</A></B>
 </DT><DD>Tens of hours.
</DD><DT><B><A NAME="structs_0001060501001103">Minutes1</A></B>
 </DT><DD>Minutes.
</DD><DT><B><A NAME="structs_0001060501001104">Minutes10</A></B>
 </DT><DD>Tens of minutes.
</DD><DT><B><A NAME="structs_0001060501001105">Seconds1</A></B>
 </DT><DD>Seconds.
</DD><DT><B><A NAME="structs_0001060501001106">Seconds10</A></B>
 </DT><DD>Tens of seconds.
</DD><DT><B><A NAME="structs_0001060501001107">Frames1</A></B>
 </DT><DD>Frames.
</DD><DT><B><A NAME="structs_0001060501001108">Frames10</A></B>
 </DT><DD>Tens of frames.
</DD><DT><B><A NAME="structs_0001060501001109">FrameRateCode</A></B>
 </DT><DD>Frames per second dropped and not dropped as indicated by <A HREF="dssd0288.htm#dtypes_0001060601001400" TARGET="TEXT">DVD_FRAMERATE</A>.
</DD></DL>
<H5>Remarks</H5>
<P>DVD Timecode is binary coded decimal (BCD) encoded in the format 0xHhMmSsFf, where
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">H is tens of hours
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">h is hours
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">M is tens of minutes
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">m is minutes
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">S is tens of seconds
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">s is seconds
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">F is tens of frames
</FONT></TD><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">f is frames
</FONT></TD></TABLE>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001200">FILTER_INFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains information about a filter.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct  _FilterInfo
    {
    WCHAR achName[ 128 ];
    IFilterGraph __RPC_FAR *pGraph;
    }     FILTER_INFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001201">achName</A></B>
 </DT><DD>Name of the filter.
</DD><DT><B><A NAME="structs_0001060501001202">pGraph</A></B>
 </DT><DD>Pointer to the <A HREF="dssd0140.htm" TARGET="TEXT">IFilterGraph</A> interface to which the filter is connected.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001300">MPEG1VIDEOINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes an MPEG-1 video stream.


<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagMPEG1VIDEOINFO {
    VIDEOINFOHEADER hdr;
    DWORD           dwStartTimeCode;
    DWORD           cbSequenceHeader;
    BYTE            bSequenceHeader[1];
} MPEG1VIDEOINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001301">hdr</A></B>
 </DT><DD>Compatible with <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A>.
</DD><DT><B><A NAME="structs_0001060501001302">dwStartTimeCode</A></B>
 </DT><DD>25-bit "group-of-pictures" time code at start of data. 
</DD><DT><B><A NAME="structs_0001060501001303">cbSequenceHeader</A></B>
 </DT><DD>Length in bytes of <A HREF="dssd0287.htm#structs_0001060501001304" TARGET="TEXT">bSequenceHeader</A>.
</DD><DT><B><A NAME="structs_0001060501001304">bSequenceHeader</A></B>
 </DT><DD>Sequence header including quantization matrices, if any.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001400">MPEG2VIDEOINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes an MPEG-2 video stream.
<P><B>tagMPEG2VIDEOINFO</B> <B>{</B><BR><B>VIDEOINFOHEADER2</B> <B>hdr;</B><BR><B>DWORD</B> <B>dwStartTimeCode;</B> <BR><B>DWORD</B> <B>cbSequenceHeader;</B> <BR><B>DWORD</B> <B>dwProfile;</B> <BR><B>DWORD</B> <B>dwLevel;</B> <BR><B>DWORD</B> <B>dwFlags;</B> <BR><B>DWORD</B> <B>dwSequenceHeader[1];</B> <BR><B>}</B> <B>MPEG2VIDEOINFO;</B><BR><H5>Parameters</H5>
<DL><DT><B><A NAME="structs_0001060501001401">hdr</A></B>
 </DT><DD>Compatible with <A HREF="dssd0287.htm#structs_0001060501001f00" TARGET="TEXT">VIDEOINFOHEADER2</A>. 
</DD><DT><B><A NAME="structs_0001060501001402">dwStartTimeCode</A></B>
 </DT><DD>25-bit "group-of-pictures" time code at start of data (not used for DVD).
</DD><DT><B><A NAME="structs_0001060501001403">cbSequenceHeader</A></B>
 </DT><DD>Length in bytes of <A HREF="dssd0287.htm#structs_0001060501001407" TARGET="TEXT">dwSequenceHeader</A> (zero for DVD). 
</DD><DT><B><A NAME="structs_0001060501001404">dwProfile</A></B>
 </DT><DD><A HREF="dssd0288.htm#dtypes_0001060601001b00" TARGET="TEXT">MPEG2Profile</A> enumerated type member.
</DD><DT><B><A NAME="structs_0001060501001405">dwLevel</A></B>
 </DT><DD><A HREF="dssd0288.htm#dtypes_0001060601001a00" TARGET="TEXT">MPEG2Level</A> enumerated type member.
</DD><DT><B><A NAME="structs_0001060501001406">dwFlags</A></B>
 </DT><DD>Flag set by one of the following values:


<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Value </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
 </B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMMPEG2_DoPanScan </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">If set, the MPEG-2 video decoder should crop the output image based on pan-scan vectors in picture_display_extension


 and change the picture aspect ratio accordingly.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMMPEG2_DVDLine21Field1 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">If set, the MPEG-2 decoder must be able to produce an output pin for DVD style closed-captioned data found in the GOP


 layer of field 1.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMMPEG2_DVDLine21Field2 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">If set, the MPEG-2 decoder must be able to produce an output pin for DVD style closed-captioned data found in the GOP layer of field 2.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMMPEG2_SourceIsLetterboxed </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">If set, indicates that black bars have been encoded in the top and bottom of the video.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMMPEG2_FilmCameraMode </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">If set, indicates "film mode" used for 625/50


 content. If cleared, indicates that "camera mode" was used.
</FONT></TD></TR></TABLE>
</DD><DD>Note, set undefined flags to zero or connection will be rejected.


</DD><DT><B><A NAME="structs_0001060501001407">dwSequenceHeader</A></B>
 </DT><DD>Sequence header including quantization matrices, if any.

</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001500">PIN_INFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains information about a pin.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct  _PinInfo
    {
    IBaseFilter  *pFilter;
    PIN_DIRECTION dir;
    WCHAR achName[ 128 ];
    }        PIN_INFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001501">pFilter</A></B>
 </DT><DD>Pointer to the <A HREF="dssd0116.htm" TARGET="TEXT">IBaseFilter</A> interface of the owning filter.
</DD><DT><B><A NAME="structs_0001060501001502">dir</A></B>
 </DT><DD>Direction of the pin (input or output).
</DD><DT><B><A NAME="structs_0001060501001503">achName</A></B>
 </DT><DD>Name of the pin.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001600">POSITION</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Placeholder for a linked list.

<PRE><FONT FACE="Courier" SIZE="2">
struct __POSITION { int unused; };
typedef __POSITION* POSITION;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001601">unused</A></B>
 </DT><DD>Integer value that specifies the location of an item in a linked list.
</DD></DL>
<H5>Remarks</H5>
<P>This structure can point to any element in a linked list, including null elements (such as an end-of-list marker). This structure will, however, become invalid if you delete the item it points to.

<P>When you perform operations that return a <B>POSITION</B> pointer on a single list element, a successful operation sets it to an appropriate non-null value, while null indicates that the items position could not be found.


 When you perform operations on the entire list, the pointer represents a Win32 BOOLEAN value, where TRUE indicates success and FALSE indicates failure.
<H5>See Also</H5>
<P><A HREF="dssd0196.htm#Lib_0001060210020c00" TARGET="TEXT">CBaseList::GetHeadPositionI</A>, <A HREF="dssd0196.htm#Lib_0001060210020f00" TARGET="TEXT">CBaseList::GetTailPositionI</A><H3><HR COLOR=#0000FF><A NAME="structs_0001060501001700">Quality</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes a quality message by indicating Flood or Famine in the renderer and specifying the percentage of frames to drop or add to optimize the renderer's performance.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct{
    QualityMessageType Type;
    long                Proportion;
    REFERENCE_TIME       Late;
    REFERENCE_TIME       TimeStamp;
                           } Quality;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001701">Type</A></B>
 </DT><DD>Either <A HREF="dssd0288.htm#dtypes_0001060601001d01" TARGET="TEXT">Famine</A> or <A HREF="dssd0288.htm#dtypes_0001060601001d02" TARGET="TEXT">Flood</A>, indicating that a downstream filter needs more or less data.
</DD><DT><B><A NAME="structs_0001060501001702">Proportion</A></B>
 </DT><DD>Value that specifies the rate at which DirectShow should continue to send media samples. The base value is 1000, which indicates there should be no change. A percentage increase or decrease from 1000 indicates the percentage of frames to add or drop. If this value is 800, for example, DirectShow will drop 20 percent of the incoming frames to match the renderer's speed.
</DD><DT><B><A NAME="structs_0001060501001703">Late</A></B>
 </DT><DD>If a famine exists downstream, this is the amount of time by which the stream is lagging.
</DD><DT><B><A NAME="structs_0001060501001704">TimeStamp</A></B>
 </DT><DD>Value that specifies the time when DirectShow created this structure, which is usually the start time on a video sample.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001800">REGFILTER</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Identifies a filter in the registry.

<PRE><FONT FACE="Courier" SIZE="2">
typedef struct {
    CLSID Clsid;             
    LPWSTR Name;           
} REGFILTER;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001801">Clsid</A></B>
 </DT><DD>Class identifier of the filter.
</DD><DT><B><A NAME="structs_0001060501001802">Name</A></B>
 </DT><DD>Name of the filter.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001900">TIMECODE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains basic timecode frame count information.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagTIMECODE {
&#009;&#009;WORD&#009;wFrameRate;&#009;
&#009;&#009;WORD&#009;wFrameFract;&#009;
&#009;&#009;DWORD&#009;dwFrames;
}TIMECODE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001901">wFrameRate</A></B>
 </DT><DD>Number of frames per second. Specify with one of the following values:
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Setting </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
 </B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">ED_FORMAT_SMPTE_30 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">30 frames per second.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">ED_FORMAT_SMPTE_30DROP </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">30 frames per second drop frame (actual rate 29.97 fps).
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">ED_FORMAT_SMPTE_25 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">25 frames per second.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">ED_FORMAT_SMPTE_24 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">24 frames per second.
</FONT></TD></TR></TABLE>
</DD><DT><B><A NAME="structs_0001060501001902">wFrameFract</A></B>
 </DT><DD>Fractional Frame. Full scale is 0x1000. 
</DD><DT><B><A NAME="structs_0001060501001903">dwFrames</A></B>
 </DT><DD>The timecode value as a binary framecount.
</DD></DL>
<H5>Remarks</H5>
<P>Fractional frame may be used to indicate temporal offset into frame when timecode was actually read from an external device, e.g., wFrameFract=0x7ff means the timecode value was read from the device at the end of the first video field.

<P><B>Note</B>  Since timecode commonly enters or leaves computer systems as ASCII values, conversion helper method which convert the ASCII values to and from binary framecounts are supplied in the sample filter.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001a00">TIMECODE_SAMPLE</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains complete timecode information.
<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagTIMECODE_SAMPLE {
&#009;LONGLONG&#009;qwTick;&#009;&#009;
&#009;TIMECODE&#009;timecode;&#009;
&#009;DWORD&#009;&#009;dwUser;&#009;
&#009;DWORD&#009;&#009;dwFlags;
} TIMECODE_SAMPLE;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001a01">qwTick</A></B>
 </DT><DD>Reference time, in 100-nanosecond units.
</DD><DT><B><A NAME="structs_0001060501001a02">timecode</A></B>
 </DT><DD><A HREF="dssd0287.htm#structs_0001060501001900" TARGET="TEXT">TIMECODE</A> structure.
</DD><DT><B><A NAME="structs_0001060501001a03">dwUser</A></B>
 </DT><DD>Packed SMPTE <A HREF="dssd0409.htm#gloss_00010b0114000003" TARGET="TEXT">userbits</A>.
</DD><DT><B><A NAME="structs_0001060501001a04">dwFlags</A></B>
 </DT><DD>Timecode flag masks. Specify one or more of the following:
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Value </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Meaning
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_FLAG_FCM </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Frame code mode. 0=nondrop; 1=drop.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_FLAG_CF </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Color frame flag.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_FLAG_FIELD </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Field flag.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_FLAG_DF </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Drop frame flag (from flags in actual timecode on external media).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_COLORFRAME </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Which frame in color sequence.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_COLORSEQUENCE </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Duration in frames of complete sequence.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AM_TIMECODE_FILMSEQUENCE_TYPE </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">One of FILM_SEQUENCE_XXX defines.
</FONT></TD></TR></TABLE>
</DD></DL>
<H5>Remarks</H5>
<P>Upper 16 bits in dwFlags are reserved for future use - set to 0.
 
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001b00">TRUECOLORINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains color palette and bitmask information for a video image.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tag_TRUECOLORINFO {
    DWORD dwBitMasks[iMASK_COLORS];
    RGBQUAD bmiColors[iPALETTE_COLORS];
} TRUECOLORINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001b01">dwBitMasks[iMASK_COLORS]</A></B>
 </DT><DD>Array of color masks (one per color element).
</DD><DT><B><A NAME="structs_0001060501001b02">bmiColors[iPALETTE_COLORS]</A></B>
 </DT><DD>Array of palette colors.
</DD></DL>
<H5>Remarks</H5>
<P>This structure is not used for some RGB formats. For more information about which fields are valid under different circumstances, see the Microsoft Win32&#174; documentation for <A HREF="dssd0075.htm#avispec_0001050502020801" TARGET="TEXT">BITMAPINFO</A>.
<H5>See Also</H5>
<P><A HREF="dssd0287.htm#structs_0001060501001d00" TARGET="TEXT">VIDEOINFO</A>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001c00">VIDEO_STREAM_CONFIG_CAPS</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Contains information about possible connections.

<PRE><FONT FACE="Courier" SIZE="2">
typedef struct  _VIDEO_STREAM_CONFIG_CAPS
    {
    GUID guid;
    ULONG VideoStandard;
    SIZE InputSize;
    SIZE MinCroppingSize;
    SIZE MaxCroppingSize;
    int CropGranularityX;
    int CropGranularityY;
    int CropAlignX;
    int CropAlignY;
    SIZE MinOutputSize;
    SIZE MaxOutputSize;
    int OutputGranularityX;
    int OutputGranularityY;
    int StretchTapsX;
    int StretchTapsY;
    int ShrinkTapsX;
    int ShrinkTapsY;
    LONGLONG MinFrameInterval;
    LONGLONG MaxFrameInterval;
    LONG MinBitsPerSecond;
    LONG MaxBitsPerSecond;
    }&#009;VIDEO_STREAM_CONFIG_CAPS;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001c01">guid</A></B>
</DT><DD>Will set MEDIATYPE_Video to indicate a video sample.
</DD><DT><B><A NAME="structs_0001060501001c02">VideoStandard</A></B>
</DT><DD>The analog video standard supported. Set in the <A HREF="dssd0288.htm#dtypes_0001060601000c00" TARGET="TEXT">AnalogVideoStandard</A> enumeration type (0 if not supported).
</DD><DT><B><A NAME="structs_0001060501001c03">InputSize</A></B>
</DT><DD>Size of the incoming signal, expressed through the Win32 <A HREF="dssd0389.htm#external_00010a01090000cb" TARGET="TEXT">SIZE</A> structure as the image rectangle's width and height in pixels. For a compressor, the size is taken from the width and height members of the Win32 <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure in the input pin's <A HREF="dssd0287.htm#structs_0001060501000300" TARGET="TEXT">AM_MEDIA_TYPE</A> structure. For a capture filter, the size is the largest signal the filter can digitize with every pixel remaining unique.
</DD><DT><B><A NAME="structs_0001060501001c04">MinCroppingSize</A></B>
</DT><DD>Smallest cropping rectangle allowed, as specified in the <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure's 
<A HREF="dssd0287.htm#structs_0001060501001e01" TARGET="TEXT">rcSource</A> member.
</DD><DT><B><A NAME="structs_0001060501001c05">MaxCroppingSize</A></B>
</DT><DD>Largest cropping rectangle allowed, as specified in the <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure's 
<A HREF="dssd0287.htm#structs_0001060501001e01" TARGET="TEXT">rcSource</A> member.
</DD><DT><B><A NAME="structs_0001060501001c06">CropGranularityX</A></B>
</DT><DD>Granularity of the cropping size. For example, you could specify that the only valid widths are an even multiple of four.
</DD><DT><B><A NAME="structs_0001060501001c07">CropGranularityY</A></B>
</DT><DD>Granularity of the cropping size. For example, you could specify that the only valid heights are an even multiple of four.
</DD><DT><B><A NAME="structs_0001060501001c08">CropAlignX</A></B>
</DT><DD>Alignment of the cropping rectangle inside <A HREF="dssd0287.htm#structs_0001060501001c03" TARGET="TEXT">InputSize</A>. For example, you could specify that rectangles must start on a boundary that is a multiple of four.
</DD><DT><B><A NAME="structs_0001060501001c09">CropAlignY</A></B>
</DT><DD>Alignment of the cropping rectangle inside <A HREF="dssd0287.htm#structs_0001060501001c03" TARGET="TEXT">InputSize</A>. For example, you could specify that rectangles must start on a boundary that is a multiple of four.
</DD><DT><B><A NAME="structs_0001060501001c0a">MinOutputSize</A></B>
</DT><DD>Smallest bitmap this pin can produce.
</DD><DT><B><A NAME="structs_0001060501001c0b">MaxOutputSize</A></B>
</DT><DD>Largest bitmap this pin can produce.
</DD><DT><B><A NAME="structs_0001060501001c0c">OutputGranularityX</A></B>
</DT><DD> Granularity of output bitmap width.
</DD><DT><B><A NAME="structs_0001060501001c0d">OutputGranularityY</A></B>
</DT><DD>Granularity of output bitmap height.
</DD><DT><B><A NAME="structs_0001060501001c0e">StretchTapsX</A></B>
</DT><DD>Value indicating how well the filter can stretch the image's width. A value of 0 means the filter can't stretch; 1 means it uses pixel doubling; 2 means it uses interpolation (2 taps); 3 and higher indicate it implements better interpolation.

</DD><DT><B><A NAME="structs_0001060501001c0f">StretchTapsY</A></B>
</DT><DD>Value indicating how well the filter can stretch the image's height. A value of 0 means the filter can't stretch; 1 means it uses pixel doubling; 2 means it uses interpolation (2 taps); 3 and higher indicate it implements better interpolation.


</DD><DT><B><A NAME="structs_0001060501001c10">ShrinkTapsX</A></B>
</DT><DD>Value indicating how well the filter can shrink the image's width. A value of 0 means the filter can't shrink; 1 means it just eliminates some rows of pixels; 2 means it uses interpolation (2 taps); 3 and higher indicate it implements better interpolation.
</DD><DT><B><A NAME="structs_0001060501001c11">ShrinkTapsY</A></B>
</DT><DD>Value indicating how well the filter can shrink the image's height. A value of 0 means the filter can't shrink; 1 means it just eliminates some rows of pixels; 2 means it uses interpolation (2 taps); 3 and higher indicate it implements better interpolation.
</DD><DT><B><A NAME="structs_0001060501001c12">MinFrameInterval</A></B>
</DT><DD>Minimum frame rate allowed. This applies to the capture filter only.
</DD><DT><B><A NAME="structs_0001060501001c13">MaxFrameInterval</A></B>
</DT><DD>Maximum frame rate allowed. This applies to the capture filter only.
</DD><DT><B><A NAME="structs_0001060501001c14">MinBitsPerSecond</A></B>
</DT><DD>Minimum data rate this pin can produce.
</DD><DT><B><A NAME="structs_0001060501001c15">MaxBitsPerSecond</A></B>
</DT><DD>Maximum data rate this pin can produce.
</DD></DL>
<H5>Remarks</H5>
<P>For example, assume the following values for some of the structure members.
<UL><LI><A HREF="dssd0287.htm#structs_0001060501001c04" TARGET="TEXT">MinCroppingSize</A> = (160, 120)
<LI><A HREF="dssd0287.htm#structs_0001060501001c05" TARGET="TEXT">MaxCroppingSize</A> = (320, 240)
<LI><A HREF="dssd0287.htm#structs_0001060501001c06" TARGET="TEXT">CropGranularityX</A> = 4
<LI><A HREF="dssd0287.htm#structs_0001060501001c07" TARGET="TEXT">CropGranularityY</A> = 8

</UL>
<P>These values indicate that valid cropping sizes begin at <A HREF="dssd0287.htm#structs_0001060501001c04" TARGET="TEXT">MinCroppingSize</A> and increase in steps in the x-direction by <A HREF="dssd0287.htm#structs_0001060501001c06" TARGET="TEXT">CropGranularityX</A> and in the y-direction by <A HREF="dssd0287.htm#structs_0001060501001c07" TARGET="TEXT">CropGranularityY</A>. In this case the x-value can be anywhere from 160 to 320 pixels in steps of 4 and the y-value can be anywhere from 120 to 240 pixels in steps of 8.

<P>In this scenario a few of the valid sizes are:
<UL><LI>160 x 120, 164 x 120, 168 x 120, 172 x 120, and so on
<LI>160 x 128, 164 x 128, 168 x 128, 172 x 128, and so on
<LI>160 x 136, 164 x 136, 168 x 136, 172 x 136, and so on
</UL>
<P><A HREF="dssd0287.htm#structs_0001060501001c08" TARGET="TEXT">CropAlignX</A> and <A HREF="dssd0287.htm#structs_0001060501001c09" TARGET="TEXT">CropAlignY</A> indicate where the cropping rectangle can be inside the input size rectangle. Given a 160 x 120 sized cropping rectangle and the following:

<UL><LI>CropAlignX = 2
<LI>CropAlignY = 4
</UL>
<P>Some of the valid values for the <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure's <A HREF="dssd0287.htm#structs_0001060501001e01" TARGET="TEXT">rcSource</A> member are:

<UL><LI>(0, 0, 160, 120)
<LI>(2, 0, 162, 120)
<LI>(2, 4, 162, 124)
<LI>(2, 8, 162, 128)
</UL>
<P>For a 320 x 240 cropping rectangle and the same cropping alignment values, (2, 4, 322, 244) is one example of the many legal rectangles.

<P>The structure members discussed in this section work together to specify what values of <A HREF="dssd0287.htm#structs_0001060501001e01" TARGET="TEXT">rcSource</A> are valid for the <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure that describes the output pin's media type. Of the remaining structure members, <A HREF="dssd0287.htm#structs_0001060501001c0a" TARGET="TEXT">MinOutputSize</A>, <A HREF="dssd0287.htm#structs_0001060501001c0b" TARGET="TEXT">MaxOutputSize</A>, <A HREF="dssd0287.htm#structs_0001060501001c0c" TARGET="TEXT">OutputGranularityX</A>, and <A HREF="dssd0287.htm#structs_0001060501001c0d" TARGET="TEXT">OutputGranularityY</A> describe the <A HREF="dssd0389.htm#external_00010a0109000005" TARGET="TEXT">biWidth</A> and <A HREF="dssd0389.htm#external_00010a0109000004" TARGET="TEXT">biHeight</A> members of the <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure contained in the output pin's media type <B>VIDEOINFOHEADER</B> structure.

<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001d00">VIDEOINFO</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes the bitmap and color information for a video image.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagVIDEOINFO {
    RECT            rcSource,
    RECT            rcTarget,
    DWORD           dwBitRate,
    DWORD           dwBitErrorRate,
    REFERENCE_TIME  AvgTimePerFrame;
    BITMAPINFOHEADER    bmiHeader;
union {
        RGBQUAD     bmiColors[iPALETTE_COLORS];
        DWORD       dwBitMasks[iMASK_COLORS];
        TRUECOLORINFO   TrueColorInfo;
    };
} VIDEOINFO;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001d01">rcSource</A></B>
 </DT><DD>Bit to use.
</DD><DT><B><A NAME="structs_0001060501001d02">rcTarget</A></B>
 </DT><DD>Where the video should be displayed.
</DD><DT><B><A NAME="structs_0001060501001d03">dwBitRate</A></B>
 </DT><DD>Approximate bit data rate.
</DD><DT><B><A NAME="structs_0001060501001d04">dwBitErrorRate</A></B>
 </DT><DD>Bit error rate for this stream.
</DD><DT><B><A NAME="structs_0001060501001d05">AvgTimePerFrame</A></B>
 </DT><DD>Average time per frame, in 100-nanosecond units.
</DD><DT><B><A NAME="structs_0001060501001d06">bmiHeader</A></B>
 </DT><DD>Win32 <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure that contains color and dimension information for a device-independent bitmap.
</DD><DT><B><A NAME="structs_0001060501001d07">bmiColors</A></B>
 </DT><DD>Array of Win32 <A HREF="dssd0389.htm#external_00010a01090000c1" TARGET="TEXT">RGBQUAD</A> structures that specifies the video's color palette. Each structure represents a single color, which is a combination of red, green, and blue intensities.
</DD><DT><B><A NAME="structs_0001060501001d08">dwBitMasks</A></B>
 </DT><DD>Array of <A HREF="dssd0389.htm#external_00010a010900002b" TARGET="TEXT">DWORD</A> values that specify true color bitmasks.
</DD><DT><B><A NAME="structs_0001060501001d09">TrueColorInfo</A></B>
 </DT><DD><A HREF="dssd0287.htm#structs_0001060501001b00" TARGET="TEXT">TRUECOLORINFO</A> structure that contains both a color palette and an array of color bitmasks.
</DD></DL>
<H5>Remarks</H5>
<P>Never use this structure unless you are sure that you will use it only to store standard RGB formats. If you store anything other than standard RGB, the variable size of the <A HREF="dssd0287.htm#structs_0001060501001d06" TARGET="TEXT">bmiHeader</A> structure will almost certainly cause problems. You should use the <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure instead. If for some reason you find it absolutely necessary to use the <B>VIDEOINFO</B> structure, do not access <B>TrueColorInfo</B>, <A HREF="dssd0287.htm#structs_0001060501001d08" TARGET="TEXT">dwBitMasks</A>, and <A HREF="dssd0287.htm#structs_0001060501001d07" TARGET="TEXT">bmiColors</A> directly; use the <A HREF="dssd0258.htm#fmutil_0001060302001a00" TARGET="TEXT">TRUECOLORINFO</A>, <A HREF="dssd0258.htm#fmutil_0001060302000300" TARGET="TEXT">COLORS</A>, and <A HREF="dssd0258.htm#fmutil_0001060302000200" TARGET="TEXT">BITMASKS</A> macros to return the pointers to the color information.

<P>The first five data members are equivalent to a <A HREF="dssd0287.htm#structs_0001060501001e00" TARGET="TEXT">VIDEOINFOHEADER</A> structure. They are expanded in full simply to reduce the amount of dereferencing needed when dealing with a pointer to a <B>VIDEOINFO</B> structure.

<P>Which of the <B>TrueColorInfo</B>, <A HREF="dssd0287.htm#structs_0001060501001d08" TARGET="TEXT">dwBitMasks</A>, and <A HREF="dssd0287.htm#structs_0001060501001d07" TARGET="TEXT">bmiColors</A> fields is valid depends on the contents of the <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure. 


<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001e00">VIDEOINFOHEADER</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes the bitmap and color information for a video image.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagVIDEOINFOHEADER {
    RECT                rcSource,
    RECT                rcTarget;
    DWORD               dwBitRate;
    DWORD               dwBitErrorRate;
    REFERENCE_TIME      AvgTimePerFrame;
    BITMAPINFOHEADER    bmiHeader;
} VIDEOINFOHEADER;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001e01">rcSource</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a01090000bf" TARGET="TEXT">RECT</A> structure that specifies the source video window. This structure can be a clipping rectangle, to select a portion of the source video stream.
</DD><DT><B><A NAME="structs_0001060501001e02">rcTarget</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a01090000bf" TARGET="TEXT">RECT</A> structure that specifies the destination video window.
</DD><DT><B><A NAME="structs_0001060501001e03">dwBitRate</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a010900002b" TARGET="TEXT">DWORD</A> value that specifies the video stream's approximate data rate.
</DD><DT><B><A NAME="structs_0001060501001e04">dwBitErrorRate</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a010900002b" TARGET="TEXT">DWORD</A> value that specifies the video stream's data error rate.
</DD><DT><B><A NAME="structs_0001060501001e05">AvgTimePerFrame</A></B>
 </DT><DD><A HREF="dssd0170.htm#If_0001060152030301" TARGET="TEXT">REFERENCE_TIME</A> value that specifies the video frame's average display time, in milliseconds.

</DD><DT><B><A NAME="structs_0001060501001e06">bmiHeader</A></B>
 </DT><DD>Win32 <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure that contains color and dimension information for the video image bitmap.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501001f00">VIDEOINFOHEADER2</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes the bitmap and color information for a video image, including interlace, copy protection, and pixel aspect ratio information.
<PRE><FONT FACE="Courier" SIZE="2">typedef struct tagVIDEOINFOHEADER2 {
    RECT                rcSource;
    RECT                rcTarget;
    DWORD               dwBitRate;
    DWORD               dwBitErrorRate;
    REFERENCE_TIME      AvgTimePerFrame;
    DWORD               dwInterlaceFlags;   // use AMINTERLACE_* defines. Reject connection if undefined bits are not 0
    DWORD               dwCopyProtectFlags; // use AMCOPYPROTECT_* defines. Reject connection if undefined bits are not 0
    DWORD               dwPictAspectRatioX; 
    DWORD               dwPictAspectRatioY; 
    DWORD               dwReserved1;        
    DWORD               dwReserved2;        
    BITMAPINFOHEADER    bmiHeader;
} VIDEOINFOHEADER2;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501001f01">rcSource</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a01090000bf" TARGET="TEXT">RECT</A> structure that specifies what part of the source stream should be used to fill the destination buffer. The renderers can use this field to ask the decoders to stretch or clip.
</DD><DT><B><A NAME="structs_0001060501001f02">rcTarget</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a01090000bf" TARGET="TEXT">RECT</A> structure that specifies that specifies what part of the destination buffer should be used.
</DD><DT><B><A NAME="structs_0001060501001f03">dwBitRate</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a010900002b" TARGET="TEXT">DWORD</A> value that specifies the video stream's approximate data rate.
</DD><DT><B><A NAME="structs_0001060501001f04">dwBitErrorRate</A></B>
 </DT><DD><A HREF="dssd0389.htm#external_00010a010900002b" TARGET="TEXT">DWORD</A> value that specifies the video stream's data error rate.
</DD><DT><B><A NAME="structs_0001060501001f05">AvgTimePerFrame</A></B>
 </DT><DD><A HREF="dssd0170.htm#If_0001060152030301" TARGET="TEXT">REFERENCE_TIME</A> value that specifies the video frame's average display time, in milliseconds.
</DD><DT><B><A NAME="structs_0001060501001f06">dwInterlaceFlags</A></B>
 </DT><DD>Flag set by one of the following values:
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Setting </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
 </B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_IsInterlaced </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates an interlace stream. If 0, other interlace bits are irrelevent.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_1FieldPerSample </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates one field per media sample. If 0, indicates 2 fields per media sample.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_Field1First </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates Field 1 is first. If 0, indicates Field 2 is first. Top field in PAL is field 1, top field in NTSC is field 2.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_UNUSED </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Unused.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_FieldPatternMask </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Bits used to indicate field pattern.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_FieldPatField1Only </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Stream never contains a Field2.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_FieldPatField2Only </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Stream never contains a Field1.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_FieldPatBothRegular </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">There will be a Field2 for every Field1.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_FieldPatBothIrregular </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Random pattern of Field1s and Field2s.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_DisplayModeMask </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Bits used to indicate display mode.

 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_DisplayModeBobOnly </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates Bob display mode only.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_DisplayModeWeaveOnly </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates Weave display mode only.
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">AMINTERLACE_DisplayModeBobOrWeave </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Indicates either Bob or Weave display mode.
</FONT></TD></TR></TABLE>
</DD><DD>Note, set undefined flags to 0 or connection should be rejected.
</DD><DT><B><A NAME="structs_0001060501001f07">dwCopyProtectFlags</A></B>
 </DT><DD>Flag set with the AMCOPYPROTECT_RestrictDuplication value to indicate duplication of stream should be restricted. If undefined specify 0 or connection should be rejected.
</DD><DT><B><A NAME="structs_0001060501001f08">dwPictAspectRatioX</A></B>
 </DT><DD>X dimension of picture aspect ratio, e.g. 16 for 16x9 display (inches by inches, not pixels by pixels).
</DD><DT><B><A NAME="structs_0001060501001f09">dwPictAspectRatioY</A></B>
 </DT><DD>Y dimension of picture aspect ratio, e.g. 9 for 16x9 display (inches by inches, not pixels by pixels).
</DD><DT><B><A NAME="structs_0001060501001f0a">dwReserved1</A></B>
 </DT><DD>Reserved for future use. Must be 0; reject connection otherwise
</DD><DT><B><A NAME="structs_0001060501001f0b">dwReserved2</A></B>
 </DT><DD>Reserved for future use. Must be 0; reject connection otherwise
</DD><DT><B><A NAME="structs_0001060501001f0c">bmiHeader</A></B>
 </DT><DD>Win32 <A HREF="dssd0075.htm#avispec_0001050502020800" TARGET="TEXT">BITMAPINFOHEADER</A> structure that contains color and dimension information for the video image bitmap.

</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501002000">REGPINTYPES</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Media type information for registering a filter.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct
{
    const CLSID * clsMajorType;
    const CLSID * clsMinorType;
} REGPINTYPES;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501002001">clsMajorType</A></B>
 </DT><DD>Major media type supported by the filter. 
</DD><DT><B><A NAME="structs_0001060501002002">clsMinorType</A></B>
 </DT><DD>Minor media type supported by the filter. 
</DD></DL>
<H5>Remarks</H5>
<P>This structure is used by the <A HREF="dssd0143.htm" TARGET="TEXT">IFilterMapper</A> and <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interfaces to identify media types a pin handles and to register filters.
<P>This structure is equivalent to the <A HREF="dssd0287.htm#structs_0001060501000600" TARGET="TEXT">AMOVIESETUP_MEDIATYPE</A> structure.
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501002100">REGFILTERPINS</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Pin information for registering a filter. 

<PRE><FONT FACE="Courier" SIZE="2">typedef struct
{
    LPWSTR           strName;
    BOOL             bRendered;
    BOOL             bOutput;
    BOOL             bZero;
    BOOL             bMany;
    const CLSID *    clsConnectsToFilter;
    const WCHAR *    strConnectsToPin;
    UINT             nMediaTypes;
    const REGPINTYPES * lpMediaType;
} REGFILTERPINS;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501002101">strName</A></B>
 </DT><DD>Name of the pin. 
</DD><DT><B><A NAME="structs_0001060501002102">bRendered</A></B>
 </DT><DD>Set to TRUE if the filter renders this input; otherwise, set to FALSE. 
</DD><DT><B><A NAME="structs_0001060501002103">bOutput</A></B>
 </DT><DD>Set to TRUE if this pin is an output pin. 
</DD><DT><B><A NAME="structs_0001060501002104">bZero</A></B>
 </DT><DD>Set to TRUE if the filter has zero instances of this pin; otherwise, set to FALSE.
</DD><DT><B><A NAME="structs_0001060501002105">bMany</A></B>
 </DT><DD>Set to TRUE if the filter has more than one instance of this pin; otherwise, set to FALSE.
</DD><DT><B><A NAME="structs_0001060501002106">clsConnectsToFilter</A></B>
 </DT><DD>CLSID of the filter to which this filter connects in a filter graph. 
</DD><DT><B><A NAME="structs_0001060501002107">strConnectsToPin</A></B>
 </DT><DD>Name of the pin to which this pin connects in a filter graph.
</DD><DT><B><A NAME="structs_0001060501002108">nMediaTypes</A></B>
 </DT><DD>Number of media types supported by this pin.
</DD><DT><B><A NAME="structs_0001060501002109">lpMediaType</A></B>
 </DT><DD><A HREF="dssd0287.htm#structs_0001060501002000" TARGET="TEXT">REGPINTYPES</A> structure providing media type information. 
</DD></DL>
<H5>Remarks</H5>
<P>This structure is used by the <A HREF="dssd0143.htm" TARGET="TEXT">IFilterMapper</A> and <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interfaces for filter registration. It is used if the <I>dwVersion</I> member in <A HREF="dssd0287.htm#structs_0001060501002400" TARGET="TEXT">REGFILTER2</A> is 1.
<P>This structure is equivalent to the <A HREF="dssd0287.htm#structs_0001060501000700" TARGET="TEXT">AMOVIESETUP_PIN</A> structure.

<H3><HR COLOR=#0000FF><A NAME="structs_0001060501002200">REGPINMEDIUM</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes a pin medium (as defined in the Windows NT DDK) for registration through the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct
{
    CLSID clsMedium;
    DWORD dw1;
    DWORD dw2;
} REGPINMEDIUM;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501002201">clsMedium</A></B>
 </DT><DD>Contains the globally unique set identifier.
</DD><DT><B><A NAME="structs_0001060501002202">dw1</A></B>
 </DT><DD>Contains the set-specific identifier for an item within the set.
</DD><DT><B><A NAME="structs_0001060501002203">dw2</A></B>
 </DT><DD>Used for various set flags. Zero when not used.
</DD></DL>
<H5>Remarks</H5>
<P>A medium defines a method of communication (e.g., the bus over which the communication occurs). Each Id within that set is used to represent the form of communication. Register medums for your filter if you need to search for DirectShow filters built on Kernel Streaming (KS) pins which can connect to each other.

<H3><HR COLOR=#0000FF><A NAME="structs_0001060501002300">REGFILTERPINS2</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Pin information for registering a filter the the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct
{    
    DWORD dwFlags;
    UINT             cInstances;
    UINT             nMediaTypes;
    [size_is(nMediaTypes)] const REGPINTYPES * lpMediaType;
    UINT             nMediums;
    [size_is(nMediums)] const REGPINMEDIUM *lpMedium;
    const CLSID      *clsPinCategory;
} REGFILTERPINS2;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501002301">dwFlags</A></B>
 </DT><DD>Combination of <A HREF="dssd0288.htm#dtypes_0001060601001e00" TARGET="TEXT">REG_PINFLAG</A> flags.
</DD><DT><B><A NAME="structs_0001060501002302">cInstances</A></B>
 </DT><DD>Number of instances of the pin if known.
</DD><DT><B><A NAME="structs_0001060501002303">nMediaTypes</A></B>
 </DT><DD>Number of media types supported by this pin. 
</DD><DT><B><A NAME="structs_0001060501002304">lpMediaType</A></B>
 </DT><DD>Array of <I>nMediaTypes</I> <A HREF="dssd0287.htm#structs_0001060501002000" TARGET="TEXT">REGPINTYPES</A> structures providing media type information. 
</DD><DT><B><A NAME="structs_0001060501002305">nMediums</A></B>
 </DT><DD>Number of mediums.
</DD><DT><B><A NAME="structs_0001060501002306">lpMedium</A></B>
 </DT><DD>Array of <A HREF="dssd0287.htm#structs_0001060501002200" TARGET="TEXT">REGPINMEDIUM</A> structures containing medium information for each pin.
</DD><DT><B><A NAME="structs_0001060501002307">clsPinCategory</A></B>
 </DT><DD>Pin category (for Kernel Streaming pins) as defined in the Windows NT DDK.
</DD></DL>
<H3><HR COLOR=#0000FF><A NAME="structs_0001060501002400">REGFILTER2</A></H3>
<A HREF="dssd0287.htm" TARGET="TEXT">Structures</A>
<P>Describes filter for registration through the <A HREF="dssd0144.htm" TARGET="TEXT">IFilterMapper2</A> interface.

<PRE><FONT FACE="Courier" SIZE="2">typedef struct
{
    DWORD dwVersion;            // 1 or 2
    DWORD dwMerit;

    /* unnamed union */
    [switch_is(dwVersion)] [switch_type(DWORD)] union
    {
        [case(1)]

            struct
            {
                ULONG cPins;
                [size_is(cPins)] const REGFILTERPINS *rgPins;
            };

        [case(2)]

            struct
            {
                ULONG cPins2;
                [size_is(cPins2)] const REGFILTERPINS2 *rgPins2;
            };

        [default]
            ;
    } ;

} REGFILTER2;
</FONT></PRE>
<H5>Members</H5>
<DL><DT><B><A NAME="structs_0001060501002401">dwVersion</A></B>
 </DT><DD>Indicates the filter registration format to use. 
</DD><DT><B><A NAME="structs_0001060501002402">dwMerit</A></B>
 </DT><DD>Position in the order of enumeration. Filters or categories with higher merit are enumerated first. 
</DD><DT><B><A NAME="structs_0001060501002403">cPins</A></B>
 </DT><DD>Number of pins (if dwVersion == 1).
</DD><DT><B><A NAME="structs_0001060501002404">rgPins</A></B>
 </DT><DD>Array of <A HREF="dssd0287.htm#structs_0001060501002100" TARGET="TEXT">REGFILTERPINS</A> structures representing each pin to be registered (if dwVersion == 1).
</DD><DT><B><A NAME="structs_0001060501002405">cPins2</A></B>
 </DT><DD>Number of pins (if dwVersion == 2).
</DD><DT><B><A NAME="structs_0001060501002406">rgPins2</A></B>
 </DT><DD>Array of <A HREF="dssd0287.htm#structs_0001060501002300" TARGET="TEXT">REGFILTERPINS2</A> structures representing each pin to be registered (if dwVersion == 2).
</DD></DL>
<H5>Remarks</H5>
<P>This structure is passed in to the <A HREF="dssd0144.htm#If_0001060138030300" TARGET="TEXT">IFilterMapper2::RegisterFilter</A> method. 

<P>Set <I>dwVersion</I> to 1 if you are using the old format or set <I>dwVersion</I> to 2 if you need mediums and pin categories.
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
