<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>Source Filters</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0348.htm','/dssd0000.htm','/dssd0294.htm','/index.htm','/dssd0350.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="samples_0001070203000000">Source Filters</A></H2>
<BR CLEAR=ALL>
<P>This article details sample source filters. By definition, each of these source filter samples provides at least one output pin. (That is part of what makes them source filters as opposed to other kinds of filters.)
<P><B>Contents of this article:</B>
<UL><LI><A HREF="dssd0349.htm#samples_0001070203010000" TARGET="TEXT">Asynchronous Reader Filter</A>
<LI><A HREF="dssd0349.htm#samples_0001070203020000" TARGET="TEXT">Audio Synthesizer Filter</A>
<LI><A HREF="dssd0349.htm#samples_0001070203030000" TARGET="TEXT">Bouncing Ball Source Filter</A>
<LI><A HREF="dssd0349.htm#samples_0001070203040000" TARGET="TEXT">Video Capture Filter</A>
</UL>
<A NAME="samples_0001070203010000"></A><P><B>Asynchronous Reader Filter</B>
<P>The asynchronous reader filter, Async, shows how to implement "progressive download" in the DirectShow environment. Async implements the <A HREF="dssd0114.htm" TARGET="TEXT">IAsyncReader</A> interface, which is perhaps the most important aspect of asynchronous processing. It also implements the <A HREF="dssd0139.htm" TARGET="TEXT">IFileSourceFilter</A> interface and defines some helper classes to create filters that conform to the <B>IAsyncReader</B> interface.

<P>The Memfile.exe application uses part of the Async sample code. This program reads a file into memory at a given rate (in kilobytes per second) and plays that file as it comes in.


<A NAME="samples_0001070203020000"></A><P><B>Audio Synthesizer Filter</B>
<P>The audio synthesizer filter, Synth, demonstrates usage of the <A HREF="dssd0243.htm" TARGET="TEXT">CSource</A> and <A HREF="dssd0245.htm" TARGET="TEXT">CSourceStream</A> classes in an environment that derives its source from audio. You can use the Synth filter as a source filter to synthesize audio waveforms such as sine waveforms, square waveforms, sawtooth waveforms, and swept frequency waveforms.

<P>The Synth source filter enables the user to set the waveform, frequency, number of channels, and other properties. The user can set these properties through the property page. To set either the upper or lower endpoint of the swept frequency range, hold down <SMALL>SHIFT</SMALL> while adjusting the frequency slider. The property page enables only the controls that affect the audio format&#151;for example, channels, bits per sample, and sampling frequency&#151;while the filter is in a stopped state.

<P>This filter is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category. 



<A NAME="samples_0001070203030000"></A><P><B>Bouncing Ball Source Filter</B>
<P>The bouncing ball source filter, Ball, illustrates format negotiation. Ball also illustrates the 
use of the source filter base classes <A HREF="dssd0243.htm" TARGET="TEXT">CSource</A> and <A HREF="dssd0245.htm" TARGET="TEXT">CSourceStream</A>.



<P>The code in Fball.h and Fball.cpp manages the filter interfaces. Those two files contain approximately the minimum code required for a source filter. The Ball.h and Ball.cpp files contain the code that bounces the ball. 

<P>This filter has a single output pin, which provides a video stream that shows a ball bouncing around in the frame. The Ball filter also accepts quality-management requests from the downstream graph, which illustrates a simple quality-management strategy. This filter implements the <A HREF="dssd0167.htm" TARGET="TEXT">IQualityControl</A> interface for that purpose.
<P>This filter is available through the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, and select the DirectShow Filters category. 



<A NAME="samples_0001070203040000"></A><P><B>Video Capture Filter</B>
<P>The VidCap sample video capture filter is not installed with DirectShow. You must install it by calling Regsvr32.exe for VidCap.ax. The sample video capture filter is not part of the run time, but is part of the SDK. 
<P>A <A HREF="dssd0342.htm" TARGET="TEXT">video capture filter</A> with the same capability as VidCap is installed with the DirectShow run time and can be seen in the Filter Graph Editor when you choose <B>Insert Filters</B> from the <B>Graph</B> menu, under the Video Capture Sources category. The VidCap sample is included so that you can view the source code for a video capture filter and see how to write capture filters.
<P>Unlike ordinary DirectShow filters, special category filters, such as Video Capture Source filters, can work with more than one device. 
<P>The VidCap sample shows you how to handle special category filters, how to implement the COM interfaces for video capture, and how to implement miscellaneous other requirements for video capture.


<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
