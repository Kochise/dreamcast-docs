<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>IDistributorNotify Interface</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0126.htm','/dssd0000.htm','/dssd0088.htm','/index.htm','/dssd0128.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="If_0001060127000000">IDistributorNotify Interface</A></H2>
<BR CLEAR=ALL>
<P>The <B>IDistributorNotify</B> interface is an optional interface for use by plug-in distributors
to notify them of changes in the filter graph state.

<A NAME="If_0001060127010000"></A><P><B>When to Implement</B>
<P>Implement this interface when writing a plug-in distributor (PID) that is aggregated with the filter graph
manager if you want the PID to receive notifications of control and changes in the composition
of filter graphs.

<P>PIDs may often use methods on the filter graph manager. During a call to an <A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify</A>
method, do not take any lock that may be held by another code path that calls the filter graph manager.
To do so could result in a deadlock.

<A NAME="If_0001060127020000"></A><P><B>When to Use</B>
<P>The filter graph manager queries for this interface on any plug-in distributors that it aggregates.
If found, it calls the appropriate <A HREF="dssd0127.htm#If_0001060127030300" TARGET="TEXT">Run</A>,
<A HREF="dssd0127.htm#If_0001060127030200" TARGET="TEXT">Pause</A>, or <A HREF="dssd0127.htm#If_0001060127030400" TARGET="TEXT">SetSyncSource</A>
method before calling them on the <A HREF="dssd0116.htm" TARGET="TEXT">IBaseFilter</A> interface of each filter. It calls the
<A HREF="dssd0127.htm#If_0001060127030100" TARGET="TEXT">NotifyGraphChange</A> method whenever a
filter is added or removed, or connections are changed.

<A NAME="If_0001060127030000"></A><P><B>Methods in Vtable Order</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>IUnknown methods </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0175.htm#If_0001060157030200" TARGET="TEXT">QueryInterface</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns pointers to supported interfaces.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0175.htm#If_0001060157030100" TARGET="TEXT">AddRef</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Increments the reference count.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0175.htm#If_0001060157030300" TARGET="TEXT">Release</A> </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Decrements the reference count.
</FONT></TD></TR></TABLE>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>IDistributorNotify methods </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0127.htm#If_0001060127030500" TARGET="TEXT">Stop</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Called when the filter graph is entering a stopped state.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0127.htm#If_0001060127030200" TARGET="TEXT">Pause</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Called when the filter graph is entering a paused state.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0127.htm#If_0001060127030300" TARGET="TEXT">Run</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Called when the filter graph is entering a running state.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0127.htm#If_0001060127030400" TARGET="TEXT">SetSyncSource</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Called when a new clock is registered.

</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0127.htm#If_0001060127030100" TARGET="TEXT">NotifyGraphChange</A>
</FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Called when the set of filters in the filter graph change or their connections change.
</FONT></TD></TR></TABLE>
<H3><HR COLOR=#0000FF><A NAME="If_0001060127030100">IDistributorNotify::NotifyGraphChange</A></H3>
<A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify Interface</A>
<P>Called when the set of filters in the filter graph change or their connections change.

<P><B>HRESULT</B> <B>NotifyGraphChange</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This method is called whenever an <A HREF="dssd0140.htm#If_0001060134030100" TARGET="TEXT">IFilterGraph::AddFilter</A>,
<A HREF="dssd0140.htm#If_0001060134030700" TARGET="TEXT">IFilterGraph::RemoveFilter</A>, or <A HREF="dssd0140.htm#If_0001060134030200" TARGET="TEXT">IFilterGraph::ConnectDirect</A> method is called
or a method is called that will lead to one of
these being called (such as <A HREF="dssd0146.htm#If_000106013a030400" TARGET="TEXT">IGraphBuilder::RenderFile</A>).

<P>Make sure you use <A HREF="dssd0175.htm#If_0001060157030300" TARGET="TEXT">Release</A> on any held filters that have been removed at this point.
For performance reasons, PIDs might choose not to rescan the filters until the PIDs actually need
the interfaces, because there might be several separate notifications sent. However, it is important to
release any cached interfaces immediately.
<H3><HR COLOR=#0000FF><A NAME="If_0001060127030200">IDistributorNotify::Pause</A></H3>
<A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a paused state.

<P><B>HRESULT</B> <B>Pause</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns S_OK if the transition is complete; otherwise, returns one of the following values.

<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Value </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Meaning
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><I>Error</I> value </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transition failed.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">S_FALSE </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transition is not complete, but no error has occurred.
</FONT></TD></TR></TABLE>

<H5>Remarks</H5>
<P>This method is called before the filters are notified.
<H3><HR COLOR=#0000FF><A NAME="If_0001060127030300">IDistributorNotify::Run</A></H3>
<A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a running state.

<P><B>HRESULT</B> <B>Run</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStart</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>tStart</I>
</DT><DD>Stream-time offset that will be passed to every filter's <A HREF="dssd0153.htm#If_0001060141030400" TARGET="TEXT">IBaseFilter::Run</A> parameter.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This method is called before the filters are notified.
<H3><HR COLOR=#0000FF><A NAME="If_0001060127030400">IDistributorNotify::SetSyncSource</A></H3>
<A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify Interface</A>
<P>Called when a new clock is registered.

<P><B>HRESULT</B> <B>SetSyncSource</B><B>(</B><BR>&nbsp;&nbsp;<B>IReferenceClock</B> <B>*</B> <I>pClock</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pClock</I>
</DT><DD>[in] Pointer to the <A HREF="dssd0170.htm" TARGET="TEXT">IReferenceClock</A> interface.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This method is called before the filters are notified. Make sure to use <A HREF="dssd0175.htm#If_0001060157030100" TARGET="TEXT">AddRef</A> on the <I>pClock</I> parameter if the plug-in
distributor intends to hold it beyond this method call.
<H3><HR COLOR=#0000FF><A NAME="If_0001060127030500">IDistributorNotify::Stop</A></H3>
<A HREF="dssd0127.htm" TARGET="TEXT">IDistributorNotify Interface</A>
<P>Called when the filter graph is entering a stopped state.

<P><B>HRESULT</B> <B>Stop</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns S_OK if the transition is complete; otherwise, returns one of the following values.

<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Value </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Meaning
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><I>Error</I> value </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transition failed.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">S_FALSE </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transition is not complete, but no error has occurred.
</FONT></TD></TR></TABLE>

<H5>Remarks</H5>
<P>This method is called before the filters are notified.
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
