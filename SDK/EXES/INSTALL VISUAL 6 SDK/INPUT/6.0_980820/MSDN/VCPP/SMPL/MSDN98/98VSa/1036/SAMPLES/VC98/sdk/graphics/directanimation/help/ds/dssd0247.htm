<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><TITLE>CTransformFilter Class</TITLE>
<STYLE>
<!--
.tctop {color: blue}
.cpslug {color: blue; text-decoration: none}
-->
</STYLE>
<SCRIPT LANGUAGE="JAVASCRIPT">
//<!--
function ShowButtons() {
    if (window.top.frames.length!=0 && window.top.frames[0].ShowButtons!=null)
	window.top.frames[0].ShowButtons('/dssd0246.htm','/dssd0000.htm','/dssd0180.htm','/index.htm','/dssd0248.htm');
}
ShowButtons();
//-->
</SCRIPT>
</HEAD>
<BODY onLoad="ShowButtons()" TOPMARGIN=10 BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF" LINK="#000000" VLINK="#808080" ALINK="#000000">
<FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="Lib_0001060243000000">CTransformFilter Class</A></H2>
<BR CLEAR=ALL>
<P><IMG SRC="art/tfrm03.gif" WIDTH="299" HEIGHT="229" ALT="CTransformFilter class hierarchy" >

<P><B>CTransformFilter</B> is an abstract base class that supports a simple transform filter with a single input and a single output. It is derived from the <A HREF="dssd0253.htm" TARGET="TEXT">CUnknown</A> class, and it supports the <A HREF="dssd0116.htm" TARGET="TEXT">IBaseFilter</A> interface. Each pin, declared as Friends in this class, supports the <A HREF="dssd0165.htm" TARGET="TEXT">IPin</A> interface and uses the shared memory transport based on the <A HREF="dssd0161.htm" TARGET="TEXT">IMemInputPin</A> interface. The filter uses classes derived from the <A HREF="dssd0194.htm" TARGET="TEXT">CBaseFilter</A> class to support <B>IBaseFilter</B>; the <A HREF="dssd0248.htm" TARGET="TEXT">CTransformInputPin</A> input pin class is derived from the <A HREF="dssd0195.htm" TARGET="TEXT">CBaseInputPin</A> class, and 
the <A HREF="dssd0249.htm" TARGET="TEXT">CTransformOutputPin</A> output pin class is derived from the <A HREF="dssd0199.htm" TARGET="TEXT">CBaseOutputPin</A> class.

<P>Note that, while most member functions in this class are designed to be overridden, the following pure virtual member functions must be overridden.
<UL><LI><A HREF="dssd0247.htm#Lib_0001060243040500" TARGET="TEXT">CheckInputType</A>
<LI><A HREF="dssd0247.htm#Lib_0001060243040600" TARGET="TEXT">CheckTransform</A>
<LI><A HREF="dssd0247.htm#Lib_0001060243040900" TARGET="TEXT">DecideBufferSize</A>
<LI><A HREF="dssd0247.htm#Lib_0001060243040d00" TARGET="TEXT">GetMediaType</A>
<LI><A HREF="dssd0247.htm#Lib_0001060243041800" TARGET="TEXT">Transform</A>
</UL>
<P>For more information about using this class to create a transform filter, see <A HREF="dssd0078.htm" TARGET="TEXT">Creating a Transform Filter</A>. 

<A NAME="Lib_0001060243010000"></A><P><B>Protected Data Members</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010001">m_idTransform</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Identifier used for performance measurement. Available only when <A HREF="dssd0388.htm#reserved_00010a0108000002" TARGET="TEXT">PERF</A> is defined.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010002">m_pInput</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to the input pin class object.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010003">m_pOutput</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Pointer to the output pin class object.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>m_csFilter</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Critical section that protects the filter state. This critical section is held whenever the state is currently changing or might change. It is passed to the <A HREF="dssd0197.htm" TARGET="TEXT">CBaseMediaFilter</A> constructor so that the base class uses it too.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010005">m_csReceive</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Critical section that is held when processing events that occur on the receiving thread 
(<A HREF="dssd0248.htm#Lib_0001060244050e00" TARGET="TEXT">CTransformInputPin::Receive</A> and <A HREF="dssd0248.htm#Lib_0001060244050a00" TARGET="TEXT">CTransformInputPin::EndOfStream</A>).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010006">m_bEOSDelivered</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">End-of-stream delivery status flag.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010007">m_bSampleSkipped</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Status flag that indicates if a frame was skipped.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B><A NAME="Lib_0001060243010008">m_bQualityChanged</A></B>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Status flag that indicates if the stream has degraded. This is set to TRUE in <A HREF="dssd0247.htm#Lib_0001060243041200" TARGET="TEXT">CTransformFilter::Receive</A> if the call to the derived class's <B>Transform</B> member function fails (<B>CTransformFilter::Receive</B> returns NOERROR in this case because returning S_FALSE indicates that the end-of-stream has arrived). 
</FONT></TD></TR></TABLE>
<A NAME="Lib_0001060243020000"></A><P><B>Member Functions</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040800" TARGET="TEXT">CTransformFilter</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Constructs a <A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter</A> object.
</FONT></TD></TR></TABLE>
<A NAME="Lib_0001060243030000"></A><P><B>Overridable Member Functions</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040100" TARGET="TEXT">AlterQuality</A> 
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Receives a quality-control notification from the output pin and provides an opportunity to alter the media stream's quality. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040200" TARGET="TEXT">BeginFlush</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Receives notification of entering the flushing state and passes it downstream. 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040300" TARGET="TEXT">BreakConnect</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class when the connection is broken.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040400" TARGET="TEXT">CheckConnect</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class when the connection process is starting.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040500" TARGET="TEXT">CheckInputType</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Verifies that the input pin supports the media type and proposes the media type of the output pin (pure virtual).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040600" TARGET="TEXT">CheckTransform</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Verifies that the input and output pins support the media type (pure virtual).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040700" TARGET="TEXT">CompleteConnect</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class when the connection process has completed.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040900" TARGET="TEXT">DecideBufferSize</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Sets the number and size of buffers required for the transfer (pure virtual). 
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040a00" TARGET="TEXT">EndFlush</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Receives notification of leaving the flushing state and passes it downstream.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040b00" TARGET="TEXT">EndOfStream</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Receives an end-of-stream notification and passes it downstream.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040d00" TARGET="TEXT">GetMediaType</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns one of the media types that the output pin supports (pure virtual).
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040e00" TARGET="TEXT">GetPin</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns the pin for the index specified.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040f00" TARGET="TEXT">GetPinCount</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Returns the number of pins on the filter.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041000" TARGET="TEXT">NewSegment</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class that a new segment has started and delivers it downstream. 
 </FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041200" TARGET="TEXT">Receive</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Receives the media sample, calls the <A HREF="dssd0247.htm#Lib_0001060243041800" TARGET="TEXT">CTransformFilter::Transform</A> member function, and then delivers the media sample.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041300" TARGET="TEXT">RegisterPerfId</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Registers a performance measurement identifier.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041400" TARGET="TEXT">SetMediaType</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class when the media type is established for the connection.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041500" TARGET="TEXT">StartStreaming</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class that streaming is starting.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041700" TARGET="TEXT">StopStreaming</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Informs the derived class that streaming is ending.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041800" TARGET="TEXT">Transform</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Performs transform operations, reading from the input <A HREF="dssd0156.htm" TARGET="TEXT">IMediaSample</A> interface and writing the data to the output <B>IMediaSample</B> interface (pure virtual).
</FONT></TD></TR></TABLE>
<A NAME="Lib_0001060243040000"></A><P><B>Implemented IBaseFilter Methods</B>
<TABLE BORDER=0>
<TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Name </B></FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><B>Description
</B></FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243040c00" TARGET="TEXT">FindPin</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Retrieves the pin with the specified identifier.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041600" TARGET="TEXT">Stop</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transitions the filter to <A HREF="dssd0288.htm#dtypes_0001060601001801" TARGET="TEXT">State_Stopped</A> state if it is not in this state already, and informs the derived class.
</FONT></TD></TR><TR><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2"><A HREF="dssd0247.htm#Lib_0001060243041100" TARGET="TEXT">Pause</A>
 </FONT></TD><TD ALIGN=LEFT VALIGN=TOP><FONT FACE="VERDANA,ARIAL,HELVETICA" SIZE="2">Transitions the filter to <A HREF="dssd0288.htm#dtypes_0001060601001802" TARGET="TEXT">State_Paused</A> state if it is not in this state already, and informs the derived class. 
</FONT></TD></TR></TABLE>
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040100">CTransformFilter::AlterQuality</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Receives a quality-control notification and provides an opportunity to alter the media stream's quality. 

<P><B>virtual</B> <B>HRESULT</B> <B>AlterQuality</B><B>(</B><BR>&nbsp;&nbsp;<B>Quality</B> <I>q</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>q</I>
</DT><DD>Quality-control notification message.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value. S_FALSE means to pass the message to the upstream filter (whether or not any action has been taken). An overriding member function can return NOERROR to indicate that the message has been handled completely (or as completely as possible) and no further action should be taken.


<H5>Remarks</H5>
<P>This member function returns S_FALSE by default. It is called by the <A HREF="dssd0249.htm#Lib_0001060245070a00" TARGET="TEXT">CTransformOutputPin::Notify</A> member function before calling the <A HREF="dssd0248.htm#Lib_0001060244050c00" TARGET="TEXT">CTransformInputPin::PassNotify</A> member function to pass the quality control message 
upstream. If the filter is responsible for affecting the quality of the media stream, override this member function and respond to the quality-notification message. 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040200">CTransformFilter::BeginFlush</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Receives notification of entering the flushing state and passes it downstream. 

<P><B>virtual</B> <B>HRESULT</B> <B>BeginFlush</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>By default, this member function calls the <A HREF="dssd0199.htm#Lib_0001060213040b00" TARGET="TEXT">CBaseOutputPin::DeliverEndFlush</A> member function on the output pin to send the <B>BeginFlush</B> notification to the next filter. Override this member function if you are using queued data or a worker thread.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040300">CTransformFilter::BreakConnect</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class when the connection is broken.

<P><B>virtual</B> <B>HRESULT</B> <B>BreakConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>dir</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>dir</I>
 </DT><DD>Direction of the pin.
</DD></DL>
<H5>Return Values</H5>
<P>Returns NOERROR by default. The overriding member function returns an
<A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by both <A HREF="dssd0248.htm#Lib_0001060244050200" TARGET="TEXT">CTransformInputPin::BreakConnect</A> and <A HREF="dssd0249.htm#Lib_0001060245070100" TARGET="TEXT">CTransformOutputPin::BreakConnect</A>. It returns NOERROR by default. Override this member function to handle special cases in both input and output pin connections. Special cases might typically be releasing interfaces obtained in the
<A HREF="dssd0247.htm#Lib_0001060243040400" TARGET="TEXT">CTransformFilter::CheckConnect</A> member function.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040400">CTransformFilter::CheckConnect</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class when the connection process is starting.

<P><B>virtual</B> <B>HRESULT</B> <B>CheckConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>dir</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>dir</I>
 </DT><DD>Direction of the pin.
</DD><DT><I>pPin</I>
 </DT><DD>Pointer to the pin making the connection.
</DD></DL>
<H5>Return Values</H5>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by both <A HREF="dssd0248.htm#Lib_0001060244050300" TARGET="TEXT">CTransformInputPin::CheckConnect</A> and <A HREF="dssd0249.htm#Lib_0001060245070200" TARGET="TEXT">CTransformOutputPin::CheckConnect</A>. Override this member function to handle special cases in both input and output pin connections. Special cases might include querying (obtaining) other interfaces.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040500">CTransformFilter::CheckInputType</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Verifies that the input pin supports the media type, and proposes the output pin's media type.

<P><B>virtual</B> <B>HRESULT</B> <B>CheckInputType</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtIn</I><BR>&nbsp;&nbsp;<B>)</B><BR><B>PURE;</B><BR><H5>Parameters</H5>
<DL><DT><I>mtIn</I>
 </DT><DD>Pointer to an input media type object.
</DD></DL>
<H5>Return Values</H5>
<P>The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>You must override this member function to verify the media type. This member function must return an error if it cannot support the media type as an input. If it can, the overriding member function should propose the output media type supplied by the output pin.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040600">CTransformFilter::CheckTransform</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Verifies that the input and output pins support the media type.

<P><B>virtual</B> <B>HRESULT</B> <B>CheckTransform</B><B>(</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtIn</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType*</B> <I>mtOut</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B><BR><H5>Parameters</H5>
<DL><DT><I>mtIn</I>
</DT><DD>Pointer to the input media type object.
</DD><DT><I>mtOut</I>
</DT><DD>Pointer to the output media type object.
</DD></DL>
<H5>Return Values</H5>
<P>The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>The derived class must implement this member function by overriding it. It should return an error if the filter cannot accept these types as its input and output types.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040700">CTransformFilter::CompleteConnect</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class when the connection process has completed.

<P><B>virtual</B> <B>HRESULT</B> <B>CompleteConnect</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>direction</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>*pReceivePin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>direction</I>
 </DT><DD>Pin direction.
</DD><DT><I>pReceivePin</I>
 </DT><DD>Pointer to the output pin that is being connected to.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by both <A HREF="dssd0248.htm#Lib_0001060244050600" TARGET="TEXT">CTransformInputPin::CompleteConnect</A> and <A HREF="dssd0249.htm#Lib_0001060245070400" TARGET="TEXT">CTransformOutputPin::CompleteConnect</A>. It returns NOERROR by default. 

Override this member function to handle special cases in both input and output pin connections. 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040800">CTransformFilter::CTransformFilter</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Constructs a <A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter</A> object.

<P><B>CTransformFilter</B><B>(</B><BR>&nbsp;&nbsp;<B>TCHAR</B> <B>*</B> <I>pObjectName</I><B>,</B><BR>&nbsp;&nbsp;<B>LPUNKNOWN</B> <I>lpUnk</I><B>,</B><BR>&nbsp;&nbsp;<B>CLSID</B> <I>clsid</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pObjectName</I>
 </DT><DD>Name given to the <A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter</A> object.
</DD><DT><I>lpUnk</I>
 </DT><DD>Pointer to LPUNKNOWN.
</DD><DT><I>clsid</I>
 </DT><DD>Class identifier of the <A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter</A> class.
</DD></DL>
<H5>Return Values</H5>
<P>No return value.
<H5>Remarks</H5>
<P>The constructor of the derived class calls this member function. The pin objects are not created at this time; they are created when calling the <A HREF="dssd0247.htm#Lib_0001060243040e00" TARGET="TEXT">CTransformFilter::GetPin</A> member function. Thus the pins (<A HREF="dssd0247.htm#Lib_0001060243010002" TARGET="TEXT">m_pInput</A> and <A HREF="dssd0247.htm#Lib_0001060243010003" TARGET="TEXT">m_pOutput</A>) cannot be referred to in the constructor unless <A HREF="dssd0247.htm#Lib_0001060243040e00" TARGET="TEXT">GetPin</A> is first called. (An external object can find pins only by enumerating them or by calling <A HREF="dssd0116.htm#If_000106011c030200" TARGET="TEXT">IBaseFilter::FindPin</A>. These each call 
<B>GetPin</B>, so the pins are, in fact, created as soon as they are needed.)
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040900">CTransformFilter::DecideBufferSize</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Sets the number and size of buffers required for the transfer.

<P><B>virtual</B> <B>HRESULT</B> <B>DecideBufferSize</B><B>(</B><BR>&nbsp;&nbsp;<B>IMemAllocator</B> <B>*</B> <I>pAlloc</I><B>,</B><BR>&nbsp;&nbsp;<B>ALLOCATOR_PROPERTIES</B> <B>*</B> <I>ppropInputRequest</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B> <BR><H5>Parameters</H5>
<DL><DT><I>pAlloc </I>
</DT><DD>Allocator assigned to the transfer.
</DD><DT><I>ppropInputRequest</I>
</DT><DD>Requested allocator properties for count, size, and alignment, as specified by the <A HREF="dssd0287.htm#structs_0001060501000100" TARGET="TEXT">ALLOCATOR_PROPERTIES</A> structure.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by the <A HREF="dssd0249.htm#Lib_0001060245070700" TARGET="TEXT">CTransformOutputPin::DecideBufferSize</A> member function. Override and implement this member function to call the <A HREF="dssd0230.htm#Lib_0001060232030600" TARGET="TEXT">CMemAllocator::SetProperties</A> member function with appropriate values for the output stream. This call might fail if the allocator cannot satisfy the request.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040a00">CTransformFilter::EndFlush</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Receives notification of leaving the flushing state and passes it downstream.

<P><B>virtual</B> <B>HRESULT</B> <B>EndFlush</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by the <A HREF="dssd0248.htm#Lib_0001060244050900" TARGET="TEXT">CTransformInputPin::EndFlush</A> member function. Override this member function if you are using queued data or a worker thread. It calls <A HREF="dssd0199.htm#Lib_0001060213040b00" TARGET="TEXT">CBaseOutputPin::DeliverEndFlush</A> to deliver the notification downstream.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040b00">CTransformFilter::EndOfStream</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Receives an end-of-stream notification and passes it downstream.

<P><B>virtual</B> <B>HRESULT</B> <B>EndOfStream</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>By default, this member function calls the <A HREF="dssd0199.htm#Lib_0001060213040c00" TARGET="TEXT">CBaseOutputPin::DeliverEndOfStream</A> member function on the output pin to send the end-of-stream notification to the next filter. Override this member function if you are using queued data or a worker thread. If you overrode <A HREF="dssd0247.htm#Lib_0001060243041200" TARGET="TEXT">CTransformFilter::Receive</A> and have queued data, you must handle this condition and deliver EOS

 after all queued data is sent.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040c00">CTransformFilter::FindPin</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Retrieves the pin with the specified identifier.

<P><B>HRESULT</B> <B>FindPin</B><B>(</B><BR>&nbsp;&nbsp;<B>LPCWSTR</B> <I>Id</I><B>,</B><BR>&nbsp;&nbsp;<B>IPin</B> <I>**ppPin</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>Id</I>
</DT><DD>Identifier of the pin.
</DD><DT><I>ppPin</I>
</DT><DD>Pointer to the <A HREF="dssd0165.htm" TARGET="TEXT">IPin</A> interface for this pin after the filter has been restored.
</DD></DL>
<H5>Return Values</H5>
<P>Returns NOERROR if the pin name was found; otherwise, returns <A HREF="dssd0293.htm#errcodes_0001060a0100003e" TARGET="TEXT">VFW_E_NOT_FOUND</A>. 

<H5>Remarks</H5>
<P>This member function overrides the <A HREF="dssd0194.htm#Lib_000106020e080300" TARGET="TEXT">CBaseFilter::FindPin</A> member function. If the <I>Id</I> parameter is "In", it retrieves the input pin's <A HREF="dssd0165.htm" TARGET="TEXT">IPin</A> pointer; if the <I>Id</I> parameter is "Out", it retrieves the output pin's <B>IPin</B> pointer.

<P>The <I>ppPin</I> parameter is set to NULL if the identifier cannot be matched.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040d00">CTransformFilter::GetMediaType</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Returns one of the media types that the output pin supports (pure virtual).

<P><B>virtual</B> <B>HRESULT</B> <B>GetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>iPosition</I><B>,</B><BR>&nbsp;&nbsp;<B>CMediaType</B> <I>*pMediaType</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B><BR><H5>Parameters</H5>
<DL><DT><I>iPosition</I>
 </DT><DD>Position of the media type in the media type list.
</DD><DT><I>pMediaType</I>
 </DT><DD>Returned media type object.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value by the overriding member function. It returns <A HREF="dssd0293.htm#errcodes_0001060a0100001a" TARGET="TEXT">VFW_S_NO_MORE_ITEMS</A> when asked for a media type beyond the position list. It might return S_FALSE to indicate that the media type exists but is not currently usable. In this case, the <A HREF="dssd0132.htm#If_000106012c030200" TARGET="TEXT">IEnumMediaTypes::Next</A> method skips this media type.


<H5>Remarks</H5>
<P>The derived class is responsible for implementing this member function and maintaining the list of media types that it supports. 

<P>The base transform class assumes that only the output pin proposes media types, because the output pin depends on the type of connection of the input pin. For this reason, it is only the <A HREF="dssd0249.htm#Lib_0001060245070800" TARGET="TEXT">CTransformOutputPin::GetMediaType</A> member function of the output pin that is routed to this function.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040e00">CTransformFilter::GetPin</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Returns a pin for a specified index.

<P><B>virtual</B> <B>CBasePin</B> <B>*</B> <B>GetPin</B><B>(</B><BR>&nbsp;&nbsp;<B>int</B> <I>n</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>n</I>
</DT><DD>Index of the pin to return.
</DD></DL>
<H5>Return Values</H5>
<P>Returns a pointer to a <A HREF="dssd0200.htm" TARGET="TEXT">CBasePin</A> object.


<H5>Remarks</H5>
<P>This member function overrides the <A HREF="dssd0194.htm#Lib_000106020e080600" TARGET="TEXT">CBaseFilter::GetPin</A> member function and need not be overridden unless one or more of the transform pin classes (<A HREF="dssd0248.htm" TARGET="TEXT">CTransformInputPin</A> or <A HREF="dssd0249.htm" TARGET="TEXT">CTransformOutputPin</A>) are overridden. 
Upon successful return, both pins are valid.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243040f00">CTransformFilter::GetPinCount</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Returns the number of pins on the filter.

<P><B>virtual</B> <B>int</B> <B>GetPinCount</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns 2. If you override this class to support more pins, this member function returns the total number of pins on the filter.


<H5>Remarks</H5>
<P>This member function overrides the <A HREF="dssd0194.htm#Lib_000106020e080700" TARGET="TEXT">CBaseFilter::GetPinCount</A> member function. The <A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter</A> class supports only one input pin and one output pin.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041000">CTransformFilter::NewSegment</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class that a new segment has started and delivers it downstream.

<P><B>virtual</B> <B>HRESULT</B> <B>NewSegment</B><B>(</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStart</I><B>,</B><BR>&nbsp;&nbsp;<B>REFERENCE_TIME</B> <I>tStop</I><B>,</B><BR>&nbsp;&nbsp;<B>double</B> <I>dRate</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>tStart</I>
</DT><DD>Start time of the segment.
</DD><DT><I>tStop</I>
</DT><DD>Stop time of the segment.
</DD><DT><I>dRate</I>
</DT><DD>Rate of the segment.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.

<H5>Remarks</H5>
<P>This member function is called by the <A HREF="dssd0248.htm#Lib_0001060244050b00" TARGET="TEXT">CTransformInputPin::NewSegment</A> member function and calls the <A HREF="dssd0199.htm#Lib_0001060213040d00" TARGET="TEXT">CBaseOutputPin::DeliverNewSegment</A> member function.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041100">CTransformFilter::Pause</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Transitions the filter to <A HREF="dssd0288.htm#dtypes_0001060601001802" TARGET="TEXT">State_Paused</A> state if it is not in this state already, and informs the derived class. 

<P><B>HRESULT</B> <B>Pause</B> <B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value. 


<H5>Remarks</H5>
<P>This member function overrides the <A HREF="dssd0194.htm#Lib_000106020e081100" TARGET="TEXT">CBaseFilter::Pause</A> member function and implements the <A HREF="dssd0153.htm#If_0001060141030300" TARGET="TEXT">IMediaFilter::Pause</A> method. It checks the input and output pin connections, calls <A HREF="dssd0247.htm#Lib_0001060243041500" TARGET="TEXT">CTransformFilter::StartStreaming</A>, and finally calls the base class implementation (<B>CBaseFilter::Pause</B>). 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041200">CTransformFilter::Receive</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Receives the media sample, calls the <A HREF="dssd0247.htm#Lib_0001060243041800" TARGET="TEXT">CTransformFilter::Transform</A> member function, and then delivers the media sample.

<P><B>HRESULT</B> <B>Receive</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pSample</I><BR>&nbsp;&nbsp;<B>)</B><B>;</B><BR><H5>Parameters</H5>
<DL><DT><I>pSample</I>
 </DT><DD>Media sample to receive.
</DD></DL>
<H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function is called by the <A HREF="dssd0248.htm#Lib_0001060244050e00" TARGET="TEXT">CTransformInputPin::Receive</A> member function, which implements the 
<A HREF="dssd0161.htm#If_0001060149030400" TARGET="TEXT">IMemInputPin::Receive</A> method. If you override this member function, you might must also override <A HREF="dssd0247.htm#Lib_0001060243040b00" TARGET="TEXT">CTransformFilter::EndOfStream</A>, <A HREF="dssd0247.htm#Lib_0001060243040200" TARGET="TEXT">CTransformFilter::BeginFlush</A>, and <A HREF="dssd0247.htm#Lib_0001060243040a00" TARGET="TEXT">CTransformFilter::EndFlush</A>.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041300">CTransformFilter::RegisterPerfId</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Registers a performance measurement identifier.

<P><B>virtual</B> <B>void</B> <B>RegisterPerfId</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>No return value.
<H5>Remarks</H5>
<P>By default, this member function registers the performance identifier (<A HREF="dssd0247.htm#Lib_0001060243010001" TARGET="TEXT">m_idTransform</A>) with the string "Transform". Override this member function to register a performance measurement with a less generic string. This should be done to avoid confusion with other filters. This member function is enabled only when <A HREF="dssd0388.htm#reserved_00010a0108000002" TARGET="TEXT">PERF</A> is defined. 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041400">CTransformFilter::SetMediaType</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class when the media type is established for the connection.

<P><B>virtual</B> <B>HRESULT</B> <B>SetMediaType</B><B>(</B><BR>&nbsp;&nbsp;<B>PIN_DIRECTION</B> <I>direction</I><B>,</B><BR>&nbsp;&nbsp;<B>const</B> <B>CMediaType</B> <I>*pmt</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B><BR><H5>Parameters</H5>
<DL><DT><I>direction</I>
</DT><DD>Pin direction.
</DD><DT><I>pmt</I>
</DT><DD>Pointer to the media type object.
</DD></DL>
<H5>Return Values</H5>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>Override this member function to detect when the media type is set. The implementations of <A HREF="dssd0248.htm#Lib_0001060244050f00" TARGET="TEXT">CTransformInputPin::SetMediaType</A> and <A HREF="dssd0249.htm#Lib_0001060245070c00" TARGET="TEXT">CTransformOutputPin::SetMediaType</A> call this member function. 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041500">CTransformFilter::StartStreaming</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class that streaming is starting.

<P><B>virtual</B> <B>HRESULT</B> <B>StartStreaming</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>The filter is in the process of switching to active mode (paused or running). Alternatively, you can override this member function to allocate any necessary resources.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041600">CTransformFilter::Stop</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Transitions the filter to <A HREF="dssd0288.htm#dtypes_0001060601001801" TARGET="TEXT">State_Stopped</A> state if it is not in this state already, and informs the derived class.

<P><B>HRESULT</B> <B>Stop</B><B>(</B><B>void</B><B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>This member function overrides the <A HREF="dssd0194.htm#Lib_000106020e081700" TARGET="TEXT">CBaseFilter::Stop</A> member function and implements the <A HREF="dssd0153.htm#If_0001060141030600" TARGET="TEXT">IMediaFilter::Stop</A> method. It first decommits on the input and output pins by calling <A HREF="dssd0195.htm#Lib_000106020f070800" TARGET="TEXT">CBaseInputPin::Inactive</A> and <A HREF="dssd0199.htm#Lib_0001060213041100" TARGET="TEXT">CBaseOutputPin::Inactive</A>, and then calls <A HREF="dssd0247.htm#Lib_0001060243041700" TARGET="TEXT">CTransformFilter::StopStreaming</A> to inform the derived class. 
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041700">CTransformFilter::StopStreaming</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Informs the derived class that streaming is ending.

<P><B>virtual</B> <B>HRESULT</B> <B>StopStreaming</B><B>(</B> <B>)</B><B>;</B><BR><H5>Return Values</H5>
<P>Returns NOERROR by default. The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value.


<H5>Remarks</H5>
<P>The filter is in the process of leaving active mode and entering stopped mode. Override this member function to free any resources allocated in <A HREF="dssd0247.htm#Lib_0001060243041500" TARGET="TEXT">StartStreaming</A>.
<H3><HR COLOR=#0000FF><A NAME="Lib_0001060243041800">CTransformFilter::Transform</A></H3>
<A HREF="dssd0247.htm" TARGET="TEXT">CTransformFilter Class</A>
<P>Performs transform operations of the filter. 

<P><B>virtual</B> <B>HRESULT</B> <B>Transform</B><B>(</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <B>*</B> <I>pIn</I><B>,</B><BR>&nbsp;&nbsp;<B>IMediaSample</B> <I>*pOut</I><BR>&nbsp;&nbsp;<B>)</B> <B>PURE;</B><BR><H5>Parameters</H5>
<DL><DT><I>pIn</I>
 </DT><DD>Pointer to the input <A HREF="dssd0156.htm" TARGET="TEXT">IMediaSample</A> interface.
</DD><DT><I>pOut</I>
 </DT><DD>Pointer to the output <A HREF="dssd0156.htm" TARGET="TEXT">IMediaSample</A> interface.
</DD></DL>
<H5>Return Values</H5>
<P>The overriding member function returns an <A HREF="dssd0293.htm#errcodes_0001060a01000001" TARGET="TEXT">HRESULT</A> value. If it returns S_FALSE, the default implementation of the sample will not be delivered by the default implementation of the <A HREF="dssd0247.htm#Lib_0001060243041200" TARGET="TEXT">CTransformFilter::Receive</A> member function.


<H5>Remarks</H5>
<P>The <A HREF="dssd0247.htm#Lib_0001060243041200" TARGET="TEXT">CTransformFilter::Receive</A> member function calls this member function, which must be overridden with a member function that implements the transform intended for the filter.

<P>Perform your transform operation in the implementation of this member function, reading the data from the input <A HREF="dssd0156.htm" TARGET="TEXT">IMediaSample</A> interface and writing the data to the output <B>IMediaSample</B> interface. The member function returns when the transform is complete, without releasing or delivering either of the samples. Change properties on the output sample if they are not the same as the input sample. For example, change the start and stop time <A HREF="dssd0156.htm#If_0001060144031000" TARGET="TEXT">IMediaSample::SetTime</A>), sample status flags (<A HREF="dssd0156.htm#If_0001060144030900" TARGET="TEXT">IMediaSample::IsSyncPoint</A>), and so on. 
<P><P><FONT FACE="MS SANS SERIF" SIZE="1" COLOR="BLACK">
<A CLASS=cpslug HREF="copyrite.htm" TARGET="TEXT">&#169; 1997 Microsoft Corporation. All rights reserved. Terms of Use.</A>
</FONT>
<BR CLEAR=ALL><P>
</FONT><P>
</BODY></HTML>
